(()=>{var e={};e.id=16,e.ids=[16],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5900:e=>{"use strict";e.exports=require("pg")},9261:e=>{"use strict";e.exports=require("postcss")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},6991:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>o}),t(592),t(596),t(7489),t(5866);var a=t(3191),r=t(8716),i=t(7922),n=t.n(i),l=t(5231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let o=["",{children:["admin",{children:["taxonomy",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,592)),"/Users/macbookpro/Desktop/syndicateadmin/app/admin/taxonomy/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,596)),"/Users/macbookpro/Desktop/syndicateadmin/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,7489)),"/Users/macbookpro/Desktop/syndicateadmin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/macbookpro/Desktop/syndicateadmin/app/admin/taxonomy/page.tsx"],m="/admin/taxonomy/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/taxonomy/page",pathname:"/admin/taxonomy",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3542:(e,s,t)=>{Promise.resolve().then(t.bind(t,8561))},8561:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var a=t(326),r=t(7577),i=t(3796),n=t(772),l=t(567),c=t(2643),o=t(3313),d=t(2288),m=t(97),x=t(4432),u=t(1048),h=t(5304),p=t(5940),f=t(3427),j=t(7673),y=t(5999),g=t(7926);let N=(0,g.Z)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var w=t(2332);let v=(0,g.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),b=(0,g.Z)("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);var k=t(3183);let C={categories:[],countries:[]},z={categories:{label:"Категории",type:"category"},countries:{label:"Страны",type:"country"},cities:{label:"Города",type:"city"}},A={category:"Промпт категорий",country:"Промпт стран",city:"Промпт городов"};function S(){let[e,s]=(0,r.useState)("categories"),[t,g]=(0,r.useState)(C),[S,_]=(0,r.useState)(!0),[Z,q]=(0,r.useState)(null),[P,R]=(0,r.useState)(!1),[O,M]=(0,r.useState)(null),[D,E]=(0,r.useState)({category:"",country:"",city:""}),[X,I]=(0,r.useState)(!1),[U,$]=(0,r.useState)(!1),[T,F]=(0,r.useState)({categories:"",countries:"",cities:""}),[V,H]=(0,r.useState)({categories:new Set,countries:new Set,cities:new Set}),[L,Y]=(0,r.useState)(()=>new Set),J=(0,r.useMemo)(()=>t.countries.flatMap(e=>e.cities.map(s=>({...s,countryName:e.name}))),[t.countries]),G=async()=>{try{_(!0);let e=await fetch("/api/taxonomy"),s=await e.json();if(!s.success){y.Am.error(s.error||"Не удалось получить данные таксономии");return}g({categories:s.categories??[],countries:s.countries??[]})}catch(e){console.error("Error fetching taxonomy:",e),y.Am.error("Не удалось получить данные таксономии")}finally{_(!1)}},W=async(e,s)=>{Y(s=>{let t=new Set(s);return t.add(e),t});try{let t=await fetch("/api/taxonomy",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"category",id:e,isHidden:s})}),a=await t.json();if(!t.ok||!a.success){y.Am.error(a.error||"Не удалось обновить категорию");return}await G(),y.Am.success(s?"Категория скрыта из публичного раздела":"Категория снова видна в публичном разделе")}catch(e){console.error("Error toggling category visibility:",e),y.Am.error("Не удалось изменить видимость категории")}finally{Y(s=>{let t=new Set(s);return t.delete(e),t})}},B=(e,s)=>{H(t=>{let a=new Set(t[e]);return a.has(s)?a.delete(s):a.add(s),{...t,[e]:a}})},K=(e,s)=>{H(t=>{let a=new Set(t[e]);return s.every(e=>a.has(e))?s.forEach(e=>a.delete(e)):s.forEach(e=>a.add(e)),{...t,[e]:a}})},Q=e=>{H(s=>({...s,[e]:new Set}))},ee=e=>{let s=z[e].type;q({mode:"create",type:s,name:"",countryId:"city"===s?null:void 0})},es=(e,s,t,a)=>{let r=z[e].type;q({mode:"edit",type:r,id:s,name:t,countryId:"city"===r?a??null:void 0})},et=async()=>{if(!Z)return;let{mode:e,type:s,name:t,id:a,countryId:r}=Z,i=t.trim();if(!i){y.Am.warning("Название не может быть пустым");return}if("city"===s&&!r){y.Am.warning("Выберите страну для города");return}try{if(R(!0),"create"===e){let e=await fetch("/api/taxonomy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:s,name:i,countryId:"city"===s?r:void 0})}),t=await e.json();if(!t.success){y.Am.error(t.error||"Не удалось создать элемент");return}y.Am.success("Элемент создан")}else if(void 0!==a){let e=await fetch("/api/taxonomy",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:s,id:a,name:i,countryId:"city"===s?r:void 0})}),t=await e.json();if(!e.ok||!t.success){y.Am.error(t.error||"Не удалось обновить элемент");return}y.Am.success("Элемент обновлён")}await G(),q(null)}catch(e){console.error("Error saving taxonomy item:",e),y.Am.error("Не удалось сохранить элемент")}finally{R(!1)}},ea=async(e,s)=>{try{let t=await fetch(`/api/taxonomy?type=${e}&id=${s}`,{method:"DELETE"}),a=await t.json();if(!t.ok||!a.success)return y.Am.error(a.error||"Не удалось удалить элемент"),!1;return!0}catch(e){return console.error("Error deleting taxonomy item:",e),y.Am.error("Не удалось удалить элемент"),!1}},er=async e=>{let s=Array.from(V[e]);if(0===s.length||!window.confirm("countries"===e?"Удалить выбранные страны? Все связанные города будут удалены.":"cities"===e?"Удалить выбранные города?":"Удалить выбранные элементы?"))return;let t=z[e].type;for(let e of s)if(!await ea(t,e))break;await G(),Q(e),y.Am.success("Удаление выполнено")},ei=e=>{let s=z[e].type;M({type:s,value:D[s]??""})},en=async()=>{if(!O)return;let{type:e,value:s}=O,t=s.trim();if(!t){y.Am.warning("Промпт не может быть пустым");return}try{$(!0);let s=await fetch("/api/taxonomy/prompts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,prompt:t})}),a=await s.json();if(!s.ok||!a.success){y.Am.error(a.error||"Не удалось сохранить промпт");return}E(s=>({...s,[e]:t})),y.Am.success("Промпт обновлён"),M(null)}catch(e){console.error("Error saving taxonomy prompt:",e),y.Am.error("Не удалось сохранить промпт")}finally{$(!1)}},el=e=>{let s=T[e].toLowerCase(),a=t[e];return s?a.filter(e=>e.name.toLowerCase().includes(s)):a},ec=(0,r.useMemo)(()=>{let e=T.countries.toLowerCase();return e?t.countries.filter(s=>s.name.toLowerCase().includes(e)):t.countries},[t.countries,T.countries]),eo=(0,r.useMemo)(()=>{let e=T.cities.toLowerCase();return e?J.filter(s=>s.name.toLowerCase().includes(e)||s.countryName.toLowerCase().includes(e)):J},[J,T.cities]),ed=V[e].size;return(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.P,{}),a.jsx("div",{className:"min-h-screen bg-background p-8",children:(0,a.jsxs)("div",{className:"container space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Справочники"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Управляйте таксономиями материалов, настраивайте системные промпты для нейросети и выполняйте массовые операции над элементами."})]}),(0,a.jsxs)(f.mQ,{value:e,onValueChange:e=>s(e),children:[a.jsx(f.dr,{className:"flex-wrap",children:Object.keys(z).map(e=>a.jsx(f.SP,{value:e,children:z[e].label},e))}),a.jsx(f.nU,{value:"categories",children:(e=>{let s=el(e),t=s.map(e=>e.id),r=V[e],i=z[e].type;return(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx(c.ll,{children:z[e].label}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Используйте таблицу для просмотра, редактирования и массового удаления."})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(x.I,{placeholder:"Поиск...",value:T[e],onChange:s=>F(t=>({...t,[e]:s.target.value})),className:"h-9 w-full sm:w-48"}),(0,a.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>ei(e),disabled:X,children:[a.jsx(N,{className:"mr-2 h-4 w-4"}),"Системный промпт"]})]}),(0,a.jsxs)(n.z,{size:"sm",onClick:()=>ee(e),children:[a.jsx(w.Z,{className:"mr-2 h-4 w-4"}),"Добавить"]})]})]}),a.jsx(c.aY,{children:S?a.jsx("div",{className:"space-y-2",children:Array.from({length:6}).map((e,s)=>a.jsx(h.O,{className:"h-10 w-full"},s))}):0===s.length?a.jsx("div",{className:"py-10 text-center text-sm text-muted-foreground",children:"Элементы не найдены."}):(0,a.jsxs)(p.iA,{children:[a.jsx(p.xD,{children:(0,a.jsxs)(p.SC,{children:[a.jsx(p.ss,{className:"w-12",children:a.jsx(o.X,{checked:s.length>0&&t.every(e=>r.has(e)),onCheckedChange:()=>K(e,t)})}),a.jsx(p.ss,{children:"Название"}),"categories"===e&&a.jsx(p.ss,{className:"w-40 text-center",children:"Видимость"}),a.jsx(p.ss,{className:"w-16 text-right",children:"Действия"})]})}),a.jsx(p.RM,{children:s.map(s=>(0,a.jsxs)(p.SC,{children:[a.jsx(p.pj,{children:a.jsx(o.X,{checked:r.has(s.id),onCheckedChange:()=>B(e,s.id)})}),a.jsx(p.pj,{className:"font-medium",children:s.name}),"categories"===e&&a.jsx(p.pj,{children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(l.C,{variant:s.isHidden?"outline":"default",children:s.isHidden?"Скрыта":"Видна"}),a.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>W(s.id,!s.isHidden),disabled:L.has(s.id),children:L.has(s.id)?"Сохранение...":s.isHidden?"Показать":"Скрыть"})]})}),a.jsx(p.pj,{className:"text-right",children:(0,a.jsxs)(m.h_,{children:[a.jsx(m.$F,{asChild:!0,children:a.jsx(n.z,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(v,{className:"h-4 w-4"})})}),(0,a.jsxs)(m.AW,{align:"end",children:[(0,a.jsxs)(m.Xi,{onClick:()=>es(e,s.id,s.name),children:[a.jsx(b,{className:"mr-2 h-4 w-4"}),"Редактировать"]}),(0,a.jsxs)(m.Xi,{onClick:async()=>{window.confirm("Удалить элемент?")&&await ea(i,s.id)&&(y.Am.success("Элемент удалён"),await G())},className:"text-destructive focus:text-destructive",children:[a.jsx(k.Z,{className:"mr-2 h-4 w-4"}),"Удалить"]})]})]})})]},s.id))})]})})]})})("categories")}),a.jsx(f.nU,{value:"countries",children:(()=>{let e="countries",s=V[e],t=ec.map(e=>e.id);return(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx(c.ll,{children:"Страны"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Управляйте списком стран и связанных городов."})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(x.I,{placeholder:"Поиск страны...",value:T.countries,onChange:e=>F(s=>({...s,countries:e.target.value})),className:"h-9 w-full sm:w-56"}),(0,a.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>ei("countries"),disabled:X,children:[a.jsx(N,{className:"mr-2 h-4 w-4"}),"Системный промпт"]})]}),(0,a.jsxs)(n.z,{size:"sm",onClick:()=>ee("countries"),children:[a.jsx(w.Z,{className:"mr-2 h-4 w-4"}),"Добавить страну"]})]})]}),a.jsx(c.aY,{children:S?a.jsx("div",{className:"space-y-2",children:Array.from({length:6}).map((e,s)=>a.jsx(h.O,{className:"h-10 w-full"},s))}):0===ec.length?a.jsx("div",{className:"py-10 text-center text-sm text-muted-foreground",children:"Страны не найдены."}):(0,a.jsxs)(p.iA,{children:[a.jsx(p.xD,{children:(0,a.jsxs)(p.SC,{children:[a.jsx(p.ss,{className:"w-12",children:a.jsx(o.X,{checked:ec.length>0&&t.every(e=>s.has(e)),onCheckedChange:()=>K(e,t)})}),a.jsx(p.ss,{children:"Название"}),a.jsx(p.ss,{className:"w-24 text-right",children:"Городов"}),a.jsx(p.ss,{className:"w-16 text-right",children:"Действия"})]})}),a.jsx(p.RM,{children:ec.map(t=>(0,a.jsxs)(p.SC,{children:[a.jsx(p.pj,{children:a.jsx(o.X,{checked:s.has(t.id),onCheckedChange:()=>B(e,t.id)})}),a.jsx(p.pj,{className:"font-medium",children:t.name}),a.jsx(p.pj,{className:"text-right",children:t.cities.length}),a.jsx(p.pj,{className:"text-right",children:(0,a.jsxs)(m.h_,{children:[a.jsx(m.$F,{asChild:!0,children:a.jsx(n.z,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(v,{className:"h-4 w-4"})})}),(0,a.jsxs)(m.AW,{align:"end",children:[(0,a.jsxs)(m.Xi,{onClick:()=>es("countries",t.id,t.name),children:[a.jsx(b,{className:"mr-2 h-4 w-4"}),"Редактировать"]}),(0,a.jsxs)(m.Xi,{onClick:async()=>{window.confirm("Удалить страну и все связанные города?")&&await ea("country",t.id)&&(y.Am.success("Страна удалена"),await G())},className:"text-destructive focus:text-destructive",children:[a.jsx(k.Z,{className:"mr-2 h-4 w-4"}),"Удалить"]})]})]})})]},t.id))})]})})]})})()}),a.jsx(f.nU,{value:"cities",children:(()=>{let e="cities",s=V[e],t=eo.map(e=>e.id);return(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx(c.ll,{children:"Города"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Управляйте списком городов и их принадлежностью к странам."})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(x.I,{placeholder:"Поиск города или страны...",value:T.cities,onChange:e=>F(s=>({...s,cities:e.target.value})),className:"h-9 w-full sm:w-64"}),(0,a.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>ei("cities"),disabled:X,children:[a.jsx(N,{className:"mr-2 h-4 w-4"}),"Системный промпт"]})]}),(0,a.jsxs)(n.z,{size:"sm",onClick:()=>ee("cities"),children:[a.jsx(w.Z,{className:"mr-2 h-4 w-4"}),"Добавить город"]})]})]}),a.jsx(c.aY,{children:S?a.jsx("div",{className:"space-y-2",children:Array.from({length:6}).map((e,s)=>a.jsx(h.O,{className:"h-10 w-full"},s))}):0===eo.length?a.jsx("div",{className:"py-10 text-center text-sm text-muted-foreground",children:"Города не найдены."}):(0,a.jsxs)(p.iA,{children:[a.jsx(p.xD,{children:(0,a.jsxs)(p.SC,{children:[a.jsx(p.ss,{className:"w-12",children:a.jsx(o.X,{checked:eo.length>0&&t.every(e=>s.has(e)),onCheckedChange:()=>K(e,t)})}),a.jsx(p.ss,{children:"Город"}),a.jsx(p.ss,{children:"Страна"}),a.jsx(p.ss,{className:"w-16 text-right",children:"Действия"})]})}),a.jsx(p.RM,{children:eo.map(t=>(0,a.jsxs)(p.SC,{children:[a.jsx(p.pj,{children:a.jsx(o.X,{checked:s.has(t.id),onCheckedChange:()=>B(e,t.id)})}),a.jsx(p.pj,{className:"font-medium",children:t.name}),a.jsx(p.pj,{children:t.countryName}),a.jsx(p.pj,{className:"text-right",children:(0,a.jsxs)(m.h_,{children:[a.jsx(m.$F,{asChild:!0,children:a.jsx(n.z,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(v,{className:"h-4 w-4"})})}),(0,a.jsxs)(m.AW,{align:"end",children:[(0,a.jsxs)(m.Xi,{onClick:()=>es("cities",t.id,t.name,t.countryId),children:[a.jsx(b,{className:"mr-2 h-4 w-4"}),"Редактировать"]}),(0,a.jsxs)(m.Xi,{onClick:async()=>{window.confirm("Удалить город?")&&await ea("city",t.id)&&(y.Am.success("Город удалён"),await G())},className:"text-destructive focus:text-destructive",children:[a.jsx(k.Z,{className:"mr-2 h-4 w-4"}),"Удалить"]})]})]})})]},t.id))})]})})]})})()})]})]})}),a.jsx(d.Vq,{open:null!==Z,onOpenChange:e=>!e&&q(null),children:(0,a.jsxs)(d.cZ,{className:"sm:max-w-lg",children:[(0,a.jsxs)(d.fK,{children:[a.jsx(d.$N,{children:Z?.mode==="create"?"Создать элемент":"Редактировать элемент"}),a.jsx(d.Be,{children:Z?`Тип: ${z[Object.keys(z).find(e=>z[e].type===Z.type)??"categories"].label}`:""})]}),Z&&(0,a.jsxs)("div",{className:"space-y-4 py-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"taxonomy-name",children:"Название"}),a.jsx(x.I,{id:"taxonomy-name",value:Z.name,onChange:e=>q(s=>s?{...s,name:e.target.value}:s),autoFocus:!0})]}),"city"===Z.type&&(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"taxonomy-country",children:"Страна"}),(0,a.jsxs)("select",{id:"taxonomy-country",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:Z.countryId??"",onChange:e=>q(s=>s?{...s,countryId:e.target.value?Number(e.target.value):null}:s),children:[a.jsx("option",{value:"",children:"Выберите страну"}),t.countries.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,a.jsxs)(d.cN,{children:[a.jsx(n.z,{variant:"outline",onClick:()=>q(null),disabled:P,children:"Отмена"}),a.jsx(n.z,{onClick:et,disabled:P,children:P?"Сохранение...":"Сохранить"})]})]})}),a.jsx(d.Vq,{open:null!==O,onOpenChange:e=>!e&&M(null),children:(0,a.jsxs)(d.cZ,{className:"sm:max-w-xl",children:[(0,a.jsxs)(d.fK,{children:[a.jsx(d.$N,{children:O?A[O.type]:"Системный промпт"}),a.jsx(d.Be,{children:"Опишите правила для нейросети при назначении значений этого справочника."})]}),O&&a.jsx(j.g,{rows:8,value:O.value,onChange:e=>M(s=>s?{...s,value:e.target.value}:s),className:"resize-none"}),(0,a.jsxs)(d.cN,{children:[a.jsx(n.z,{variant:"outline",onClick:()=>M(null),disabled:U,children:"Отмена"}),a.jsx(n.z,{onClick:en,disabled:U,children:U?"Сохранение...":"Сохранить"})]})]})}),ed>0&&a.jsx("div",{className:"fixed bottom-6 left-1/2 z-40 -translate-x-1/2",children:a.jsx(c.Zb,{className:"border-primary shadow-xl",children:(0,a.jsxs)(c.aY,{className:"flex items-center gap-4 py-3 px-6",children:[(0,a.jsxs)("span",{className:"text-sm",children:["Выбрано:"," ",a.jsx("span",{className:"font-semibold text-primary",children:ed})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(n.z,{variant:"destructive",size:"sm",onClick:()=>er(e),children:[a.jsx(k.Z,{className:"mr-2 h-4 w-4"}),"Удалить"]}),a.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>Q(e),children:"Сбросить"})]})]})})})]})}},3313:(e,s,t)=>{"use strict";t.d(s,{X:()=>c});var a=t(326),r=t(7577),i=t(6796),n=t(799),l=t(7863);let c=r.forwardRef(({className:e,...s},t)=>a.jsx(i.fC,{ref:t,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:a.jsx(i.z$,{className:(0,l.cn)("flex items-center justify-center text-current"),children:a.jsx(n.Z,{className:"h-4 w-4"})})}));c.displayName=i.fC.displayName},2288:(e,s,t)=>{"use strict";t.d(s,{$N:()=>h,Be:()=>p,Vq:()=>c,cN:()=>u,cZ:()=>m,fK:()=>x});var a=t(326),r=t(7577),i=t(7956),n=t(380),l=t(7863);let c=i.fC;i.xz;let o=i.h_;i.x8;let d=r.forwardRef(({className:e,...s},t)=>a.jsx(i.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));d.displayName=i.aV.displayName;let m=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(o,{children:[a.jsx(d,{}),(0,a.jsxs)(i.VY,{ref:r,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-4xl translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg max-h-[90vh] overflow-y-auto",e),...t,children:[s,(0,a.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(n.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=i.VY.displayName;let x=({className:e,...s})=>a.jsx("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});x.displayName="DialogHeader";let u=({className:e,...s})=>a.jsx("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});u.displayName="DialogFooter";let h=r.forwardRef(({className:e,...s},t)=>a.jsx(i.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));h.displayName=i.Dx.displayName;let p=r.forwardRef(({className:e,...s},t)=>a.jsx(i.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));p.displayName=i.dk.displayName},97:(e,s,t)=>{"use strict";t.d(s,{$F:()=>d,AW:()=>m,Ju:()=>h,VD:()=>p,Xi:()=>x,bO:()=>u,h_:()=>o});var a=t(326),r=t(7577),i=t(5432),n=t(6562),l=t(799),c=t(7863);let o=i.fC,d=i.xz;i.ZA,i.Uv,i.Tr,i.Ee,r.forwardRef(({className:e,inset:s,children:t,...r},l)=>(0,a.jsxs)(i.fF,{ref:l,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...r,children:[t,a.jsx(n.Z,{className:"ml-auto h-4 w-4"})]})).displayName=i.fF.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(i.tu,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})).displayName=i.tu.displayName;let m=r.forwardRef(({className:e,sideOffset:s=4,...t},r)=>a.jsx(i.Uv,{children:a.jsx(i.VY,{ref:r,sideOffset:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));m.displayName=i.VY.displayName;let x=r.forwardRef(({className:e,inset:s,...t},r)=>a.jsx(i.ck,{ref:r,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...t}));x.displayName=i.ck.displayName;let u=r.forwardRef(({className:e,children:s,checked:t,...r},n)=>(0,a.jsxs)(i.oC,{ref:n,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx(l.Z,{className:"h-4 w-4"})})}),s]}));u.displayName=i.oC.displayName,r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(i.Rk,{ref:r,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx("span",{className:"h-2 w-2 rounded-full bg-current"})})}),s]})).displayName=i.Rk.displayName;let h=r.forwardRef(({className:e,inset:s,...t},r)=>a.jsx(i.__,{ref:r,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...t}));h.displayName=i.__.displayName;let p=r.forwardRef(({className:e,...s},t)=>a.jsx(i.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...s}));p.displayName=i.Z0.displayName},4432:(e,s,t)=>{"use strict";t.d(s,{I:()=>n});var a=t(326),r=t(7577),i=t(7863);let n=r.forwardRef(({className:e,type:s,...t},r)=>a.jsx("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));n.displayName="Input"},1048:(e,s,t)=>{"use strict";t.d(s,{_:()=>o});var a=t(326),r=t(7577),i=t(9152),n=t(9360),l=t(7863);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...s},t)=>a.jsx(i.f,{ref:t,className:(0,l.cn)(c(),e),...s}));o.displayName=i.f.displayName},7673:(e,s,t)=>{"use strict";t.d(s,{g:()=>n});var a=t(326),r=t(7577),i=t(7863);let n=r.forwardRef(({className:e,...s},t)=>a.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));n.displayName="Textarea"},592:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var a=t(8570);let r=(0,a.createProxy)(String.raw`/Users/macbookpro/Desktop/syndicateadmin/app/admin/taxonomy/page.tsx`),{__esModule:i,$$typeof:n}=r;r.default;let l=(0,a.createProxy)(String.raw`/Users/macbookpro/Desktop/syndicateadmin/app/admin/taxonomy/page.tsx#default`)},2332:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[948,283,896,434,206,438,594,432,392,103],()=>t(6991));module.exports=a})();