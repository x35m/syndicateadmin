(()=>{var e={};e.id=9431,e.ids=[9431],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5900:e=>{"use strict";e.exports=require("pg")},9261:e=>{"use strict";e.exports=require("postcss")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},5623:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(9971),r(596),r(7489),r(5866);var s=r(3191),a=r(8716),n=r(7922),i=r.n(n),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["admin",{children:["automation",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9971)),"/Users/macbookpro/Desktop/syndicateadmin/app/admin/automation/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,596)),"/Users/macbookpro/Desktop/syndicateadmin/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,7489)),"/Users/macbookpro/Desktop/syndicateadmin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/macbookpro/Desktop/syndicateadmin/app/admin/automation/page.tsx"],u="/admin/automation/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/automation/page",pathname:"/admin/automation",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2457:(e,t,r)=>{Promise.resolve().then(r.bind(r,2768))},8287:(e,t,r)=>{Promise.resolve().then(r.bind(r,2346))},6421:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},5303:()=>{},2768:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var s=r(326),a=r(7577),n=r(3796),i=r(2643),o=r(772),l=r(3313),d=r(4432),c=r(567),u=r(5304),m=r(5999);let p={import:{enabled:!1,intervalMinutes:30,scope:"all",feedIds:[],lastRunAt:null},processing:{enabled:!1,intervalMinutes:15,batchSize:5,lastRunAt:null},publishing:{enabled:!1,intervalMinutes:60,scope:"all",categoryIds:[],batchSize:10,lastRunAt:null}};function x(e){return"selected"===e?"selected":"all"}function h(e){return e?{import:function(e){let t=Math.max(1,Math.trunc(e?.intervalMinutes??30)),r=x(e?.scope),s=Array.isArray(e?.feedIds)?Array.from(new Set(e.feedIds.map(e=>Number(e)).filter(e=>!Number.isNaN(e)&&e>0))):[];return{enabled:!!e?.enabled,intervalMinutes:t,scope:r,feedIds:s,lastRunAt:e?.lastRunAt??null}}(e.import),processing:function(e){let t=Math.max(1,Math.trunc(e?.intervalMinutes??15)),r=Math.max(1,Math.trunc(e?.batchSize??5));return{enabled:!!e?.enabled,intervalMinutes:t,batchSize:r,lastRunAt:e?.lastRunAt??null}}(e.processing),publishing:function(e){let t=Math.max(1,Math.trunc(e?.intervalMinutes??60)),r=x(e?.scope),s=Array.isArray(e?.categoryIds)?Array.from(new Set(e.categoryIds.map(e=>Number(e)).filter(e=>!Number.isNaN(e)&&e>0))):[],a=Math.max(1,Math.trunc(e?.batchSize??10));return{enabled:!!e?.enabled,intervalMinutes:t,scope:r,categoryIds:s,batchSize:a,lastRunAt:e?.lastRunAt??null}}(e.publishing)}:JSON.parse(JSON.stringify(p))}let f=[{value:"all",label:"Все активные фиды"},{value:"selected",label:"Выбранные фиды"}],g=[{value:"all",label:"Все активные категории"},{value:"selected",label:"Выбранные категории"}];function b(e){if(!e)return"—";let t=new Date(e);return Number.isNaN(t.getTime())?"—":t.toLocaleString("ru-RU")}function v({feeds:e,selectedFeedIds:t,onToggle:r}){return 0===e.length?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Фиды не найдены."}):s.jsx("div",{className:"max-h-60 overflow-y-auto rounded-md border bg-muted/30 p-3",children:s.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:e.map(e=>{let a="active"!==e.status,n=t.includes(e.id);return(0,s.jsxs)("label",{className:`flex cursor-pointer items-start gap-3 rounded-md border p-3 text-sm transition-colors ${a?"border-muted bg-muted/20 text-muted-foreground":"border-transparent bg-background hover:border-primary/40"}`,children:[s.jsx(l.X,{checked:n,disabled:a,onCheckedChange:()=>r(e.id)}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"font-medium leading-tight",children:e.title||e.url}),s.jsx("span",{className:"text-xs text-muted-foreground break-all",children:e.url}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(c.C,{variant:"active"===e.status?"default":"secondary",children:"active"===e.status?"Активен":"Отключен"}),e.lastFetched&&(0,s.jsxs)("span",{className:"text-muted-foreground",children:["Последний импорт: ",b(e.lastFetched)]})]})]})]},e.id)})})})}function y({categories:e,selectedCategoryIds:t,onToggle:r}){return 0===e.length?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Категории не найдены."}):s.jsx("div",{className:"max-h-60 overflow-y-auto rounded-md border bg-muted/30 p-3",children:s.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:e.map(e=>(0,s.jsxs)("label",{className:"flex cursor-pointer items-start gap-3 rounded-md border border-transparent bg-background p-3 text-sm transition-colors hover:border-primary/40",children:[s.jsx(l.X,{checked:t.includes(e.id),onCheckedChange:()=>r(e.id)}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"font-medium leading-tight",children:e.name}),e.isHidden&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"Категория скрыта"})]})]},e.id))})})}function j(e){return JSON.parse(JSON.stringify(e))}function N(e){return JSON.stringify({import:{...e.import,lastRunAt:null},processing:{...e.processing,lastRunAt:null},publishing:{...e.publishing,lastRunAt:null}})}function k(){let[e,t]=(0,a.useState)(j(p)),[r,c]=(0,a.useState)(null),[x,k]=(0,a.useState)([]),[w,S]=(0,a.useState)([]),[C,P]=(0,a.useState)(!0),[R,M]=(0,a.useState)(!1);(0,a.useCallback)(async()=>{P(!0);try{let[e,r,s]=await Promise.all([fetch("/api/automation",{cache:"no-store"}),fetch("/api/local-feeds",{cache:"no-store"}),fetch("/api/taxonomy",{cache:"no-store"})]),a=await e.json();if(!e.ok||!1===a.success)throw Error(a.error||"Не удалось получить настройки автоматизации");let n=await r.json();if(!r.ok||!1===n.success)throw Error(n.error||"Не удалось получить список фидов");let i=await s.json();if(!s.ok||!1===i.success)throw Error(i.error||"Не удалось получить категории");let o=h(a.data);t(j(o)),c(j(o));let l=(n.data??[]).map(e=>({id:Number(e.id),title:e.title??e.name??null,url:e.url,status:e.status??"active",lastFetched:e.lastFetched??e.last_fetched??null}));k(l);let d=(i.data?.categories??[]).map(e=>({id:Number(e.id),name:e.name,isHidden:!!(e.isHidden??e.is_hidden)}));S(d)}catch(e){console.error("Automation fetch error:",e),m.Am.error(e instanceof Error?e.message:"Ошибка при загрузке данных")}finally{P(!1)}},[]);let A=(0,a.useMemo)(()=>!!r&&N(e)!==N(r),[e,r]),I=e=>{t(t=>({...t,import:{...t.import,...e}}))},z=e=>{t(t=>({...t,processing:{...t.processing,...e}}))},q=e=>{t(t=>({...t,publishing:{...t.publishing,...e}}))},_=async()=>{M(!0);try{let r=await fetch("/api/automation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await r.json();if(!r.ok||!1===s.success)throw Error(s.error||"Не удалось сохранить настройки");let a=h(s.data);t(j(a)),c(j(a)),m.Am.success("Настройки автоматизации сохранены")}catch(e){console.error("Automation save error:",e),m.Am.error(e instanceof Error?e.message:"Ошибка при сохранении настроек")}finally{M(!1)}};return(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.P,{}),s.jsx("div",{className:"min-h-screen bg-background p-8",children:(0,s.jsxs)("div",{className:"container space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Автоматизация процессов"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Настройте автоматический импорт материалов, обработку и публикацию. Система учитывает только активные RSS фиды и доступные категории."})]}),C?(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(u.O,{className:"h-36 w-full"}),s.jsx(u.O,{className:"h-36 w-full"}),s.jsx(u.O,{className:"h-36 w-full"})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{children:[s.jsx(i.ll,{children:"Автоматический импорт RSS"}),s.jsx(i.SZ,{children:"Выполняет импорт материалов с выбранной периодичностью. При выборе конкретных фидов используются только активные источники."})]}),(0,s.jsxs)(i.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-md border bg-muted/30 p-3",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium",children:"Включить автоимпорт"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.import.enabled?"Автоимпорт активен":"Автоимпорт отключен"})]}),s.jsx(l.X,{checked:e.import.enabled,onCheckedChange:e=>I({enabled:!0===e})})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Интервал (минуты)"}),s.jsx(d.I,{type:"number",min:1,value:e.import.intervalMinutes,onChange:e=>I({intervalMinutes:Math.max(1,Number(e.target.value)||1)})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Источники"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(t=>s.jsx(o.z,{type:"button",variant:e.import.scope===t.value?"default":"outline",size:"sm",onClick:()=>I({scope:t.value}),children:t.label},t.value))})]})]}),"selected"===e.import.scope&&s.jsx(v,{feeds:x,selectedFeedIds:e.import.feedIds,onToggle:t=>{I({feedIds:e.import.feedIds.includes(t)?e.import.feedIds.filter(e=>e!==t):[...e.import.feedIds,t]})}}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Последний запуск: ",b(e.import.lastRunAt)]})]})]}),(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{children:[s.jsx(i.ll,{children:"Автообработка материалов"}),s.jsx(i.SZ,{children:"Генерация саммари и таксономии для новых материалов. Обработка происходит последовательно, чтобы избежать перегрузки AI моделей."})]}),(0,s.jsxs)(i.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-md border bg-muted/30 p-3",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium",children:"Включить автообработку"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.processing.enabled?"Автообработка активна":"Автообработка отключена"})]}),s.jsx(l.X,{checked:e.processing.enabled,onCheckedChange:e=>z({enabled:!0===e})})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Интервал (минуты)"}),s.jsx(d.I,{type:"number",min:1,value:e.processing.intervalMinutes,onChange:e=>z({intervalMinutes:Math.max(1,Number(e.target.value)||1)})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Материалов за запуск"}),s.jsx(d.I,{type:"number",min:1,value:e.processing.batchSize,onChange:e=>z({batchSize:Math.max(1,Number(e.target.value)||1)})})]})]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Последний запуск: ",b(e.processing.lastRunAt)]})]})]}),(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{children:[s.jsx(i.ll,{children:"Автопубликация материалов"}),s.jsx(i.SZ,{children:"Публикация обработанных материалов с указанной периодичностью. Можно ограничить публикацию определёнными категориями."})]}),(0,s.jsxs)(i.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-md border bg-muted/30 p-3",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium",children:"Включить автопубликацию"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.publishing.enabled?"Автопубликация активна":"Автопубликация отключена"})]}),s.jsx(l.X,{checked:e.publishing.enabled,onCheckedChange:e=>q({enabled:!0===e})})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Интервал (минуты)"}),s.jsx(d.I,{type:"number",min:1,value:e.publishing.intervalMinutes,onChange:e=>q({intervalMinutes:Math.max(1,Number(e.target.value)||1)})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Материалов за запуск"}),s.jsx(d.I,{type:"number",min:1,value:e.publishing.batchSize,onChange:e=>q({batchSize:Math.max(1,Number(e.target.value)||1)})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Категории"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(t=>s.jsx(o.z,{type:"button",variant:e.publishing.scope===t.value?"default":"outline",size:"sm",onClick:()=>q({scope:t.value}),children:t.label},t.value))})]}),"selected"===e.publishing.scope&&s.jsx(y,{categories:w,selectedCategoryIds:e.publishing.categoryIds,onToggle:t=>{q({categoryIds:e.publishing.categoryIds.includes(t)?e.publishing.categoryIds.filter(e=>e!==t):[...e.publishing.categoryIds,t]})}}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Последний запуск: ",b(e.publishing.lastRunAt)]})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx(o.z,{type:"button",onClick:_,disabled:R||!A,children:R?"Сохранение...":"Сохранить настройки"}),s.jsx(o.z,{type:"button",variant:"outline",onClick:()=>{r&&t(j(r))},disabled:!A||R,children:"Сбросить изменения"})]})]})]})})]})}},3796:(e,t,r)=>{"use strict";r.d(t,{P:()=>c});var s=r(326),a=r(434),n=r(5047),i=r(7863),o=r(772),l=r(6125),d=r(5999);function c(){let e=(0,n.usePathname)(),t=(0,n.useRouter)(),r=async()=>{try{(await fetch("/api/admin/logout",{method:"POST"})).ok&&(d.Am.success("Вы вышли из системы"),t.push("/admin/login"),t.refresh())}catch(e){console.error("Logout error:",e),d.Am.error("Ошибка при выходе")}};return s.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsxs)("div",{className:"container flex h-16 items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-6 md:gap-10",children:[s.jsx(a.default,{href:"/admin",className:"flex items-center space-x-2",children:(0,s.jsxs)("span",{className:"text-xl font-bold tracking-tight",children:["SYNDICATE ",s.jsx("span",{className:"text-primary",children:"admin"})]})}),s.jsx("nav",{className:"flex items-center gap-6",children:[{href:"/admin",label:"Дашборд"},{href:"/admin/materials",label:"Материалы"},{href:"/admin/rss",label:"RSS фиды"},{href:"/admin/automation",label:"Автоматизация"},{href:"/admin/taxonomy",label:"Справочники"},{href:"/admin/logs",label:"Логи"},{href:"/admin/settings",label:"Настройки"}].map(t=>s.jsx(a.default,{href:t.href,className:(0,i.cn)("text-sm font-medium transition-colors hover:text-primary",e===t.href?"text-foreground":"text-muted-foreground"),children:t.label},t.href))})]}),(0,s.jsxs)(o.z,{variant:"ghost",size:"sm",onClick:r,children:[s.jsx(l.Z,{className:"mr-2 h-4 w-4"}),"Выход"]})]})})}},567:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var s=r(326);r(7577);var a=r(9360),n=r(7863);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...r}){return s.jsx("div",{className:(0,n.cn)(i({variant:t}),e),...r})}},772:(e,t,r)=>{"use strict";r.d(t,{d:()=>l,z:()=>d});var s=r(326),a=r(7577),n=r(4214),i=r(9360),o=r(7863);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...i},d)=>{let c=a?n.g7:"button";return s.jsx(c,{className:(0,o.cn)(l({variant:t,size:r,className:e})),ref:d,...i})});d.displayName="Button"},2643:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>o,SZ:()=>d,Zb:()=>i,aY:()=>c,ll:()=>l});var s=r(326),a=r(7577),n=r(7863);let i=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let o=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},3313:(e,t,r)=>{"use strict";r.d(t,{X:()=>l});var s=r(326),a=r(7577),n=r(6796),i=r(799),o=r(7863);let l=a.forwardRef(({className:e,...t},r)=>s.jsx(n.fC,{ref:r,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(n.z$,{className:(0,o.cn)("flex items-center justify-center text-current"),children:s.jsx(i.Z,{className:"h-4 w-4"})})}));l.displayName=n.fC.displayName},4432:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var s=r(326),a=r(7577),n=r(7863);let i=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));i.displayName="Input"},5304:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var s=r(326),a=r(7863);function n({className:e,...t}){return s.jsx("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",e),...t})}},2346:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>n});var s=r(326),a=r(5999);let n=({...e})=>s.jsx(a.x7,{theme:"system",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},7863:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(1135),a=r(1009);function n(...e){return(0,a.m6)((0,s.W)(e))}},5047:(e,t,r)=>{"use strict";var s=r(7389);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},9971:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=r(8570);let a=(0,s.createProxy)(String.raw`/Users/macbookpro/Desktop/syndicateadmin/app/admin/automation/page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,s.createProxy)(String.raw`/Users/macbookpro/Desktop/syndicateadmin/app/admin/automation/page.tsx#default`)},596:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>a});var s=r(9510);let a={title:"Syndicate Admin - Панель управления",description:"Административная панель для управления RSS-фидами, материалами и настройками сервиса Syndicate."};function n({children:e}){return s.jsx(s.Fragment,{children:e})}},7489:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,metadata:()=>u});var s=r(9510),a=r(5384),n=r.n(a);r(7272);var i=r(8570);let o=(0,i.createProxy)(String.raw`/Users/macbookpro/Desktop/syndicateadmin/components/ui/sonner.tsx`),{__esModule:l,$$typeof:d}=o;o.default;let c=(0,i.createProxy)(String.raw`/Users/macbookpro/Desktop/syndicateadmin/components/ui/sonner.tsx#Toaster`),u={title:"Syndicate - Материалы из различных источников",description:"Коллекция публикаций и материалов из различных RSS-источников. Удобный просмотр и фильтрация контента."};function m({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:n().className,children:[e,s.jsx(c,{position:"top-right"})]})})}Promise.all([r.e(2027),r.e(3258),r.e(7435),r.e(424)]).then(r.bind(r,7328)).then(({initCronJob:e,runInitialFetch:t})=>{e(),t()}),Promise.all([r.e(2027),r.e(3258),r.e(7435),r.e(424),r.e(4484)]).then(r.bind(r,4484)).then(({initAutomationScheduler:e})=>{e()})},7272:()=>{},6796:(e,t,r)=>{"use strict";r.d(t,{z$:()=>N,fC:()=>y});var s=r(7577),a=r(8051),n=r(3095),i=r(2561),o=r(2067),l=r(2566),d=r(9815),c=r(7335),u=r(326),m="Checkbox",[p,x]=(0,n.b)(m),[h,f]=p(m);function g(e){let{__scopeCheckbox:t,checked:r,children:a,defaultChecked:n,disabled:i,form:l,name:d,onCheckedChange:c,required:p,value:x="on",internal_do_not_use_render:f}=e,[g,b]=(0,o.T)({prop:r,defaultProp:n??!1,onChange:c,caller:m}),[v,y]=s.useState(null),[j,N]=s.useState(null),k=s.useRef(!1),w=!v||!!l||!!v.closest("form"),C={checked:g,disabled:i,setChecked:b,control:v,setControl:y,name:d,form:l,value:x,hasConsumerStoppedPropagationRef:k,required:p,defaultChecked:!S(n)&&n,isFormControl:w,bubbleInput:j,setBubbleInput:N};return(0,u.jsx)(h,{scope:t,...C,children:"function"==typeof f?f(C):a})}var b="CheckboxTrigger",v=s.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},o)=>{let{control:l,value:d,disabled:m,checked:p,required:x,setControl:h,setChecked:g,hasConsumerStoppedPropagationRef:v,isFormControl:y,bubbleInput:j}=f(b,e),N=(0,a.e)(o,h),k=s.useRef(p);return s.useEffect(()=>{let e=l?.form;if(e){let t=()=>g(k.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[l,g]),(0,u.jsx)(c.WV.button,{type:"button",role:"checkbox","aria-checked":S(p)?"mixed":p,"aria-required":x,"data-state":C(p),"data-disabled":m?"":void 0,disabled:m,value:d,...n,ref:N,onKeyDown:(0,i.Mj)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.Mj)(r,e=>{g(e=>!!S(e)||!e),j&&y&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})});v.displayName=b;var y=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:s,checked:a,defaultChecked:n,required:i,disabled:o,value:l,onCheckedChange:d,form:c,...m}=e;return(0,u.jsx)(g,{__scopeCheckbox:r,checked:a,defaultChecked:n,disabled:o,required:i,onCheckedChange:d,name:s,form:c,value:l,internal_do_not_use_render:({isFormControl:e})=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(v,{...m,ref:t,__scopeCheckbox:r}),e&&(0,u.jsx)(w,{__scopeCheckbox:r})]})})});y.displayName=m;var j="CheckboxIndicator",N=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:s,...a}=e,n=f(j,r);return(0,u.jsx)(d.z,{present:s||S(n.checked)||!0===n.checked,children:(0,u.jsx)(c.WV.span,{"data-state":C(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});N.displayName=j;var k="CheckboxBubbleInput",w=s.forwardRef(({__scopeCheckbox:e,...t},r)=>{let{control:n,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:d,required:m,disabled:p,name:x,value:h,form:g,bubbleInput:b,setBubbleInput:v}=f(k,e),y=(0,a.e)(r,v),j=function(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(o),N=(0,l.t)(n);s.useEffect(()=>{if(!b)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!i.current;if(j!==o&&e){let r=new Event("click",{bubbles:t});b.indeterminate=S(o),e.call(b,!S(o)&&o),b.dispatchEvent(r)}},[b,j,o,i]);let w=s.useRef(!S(o)&&o);return(0,u.jsx)(c.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??w.current,required:m,disabled:p,name:x,value:h,form:g,...t,tabIndex:-1,ref:y,style:{...t.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function S(e){return"indeterminate"===e}function C(e){return S(e)?"indeterminate":e?"checked":"unchecked"}w.displayName=k},2566:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var s=r(7577),a=r(5819);function n(e){let[t,r]=s.useState(void 0);return(0,a.b)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,a;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,a=t.blockSize}else s=e.offsetWidth,a=e.offsetHeight;r({width:s,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}},799:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(7926).Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},6125:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(7926).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,2283,896,434,4915],()=>r(5623));module.exports=s})();