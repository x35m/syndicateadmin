(()=>{var e={};e.id=227,e.ids=[227],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5900:e=>{"use strict";e.exports=require("pg")},9261:e=>{"use strict";e.exports=require("postcss")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},3934:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>c}),t(2227),t(596),t(7489),t(5866);var a=t(3191),r=t(8716),i=t(7922),n=t.n(i),l=t(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let c=["",{children:["admin",{children:["materials",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2227)),"/Users/macbookpro/Desktop/syndicateadmin/app/admin/materials/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,596)),"/Users/macbookpro/Desktop/syndicateadmin/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,7489)),"/Users/macbookpro/Desktop/syndicateadmin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/macbookpro/Desktop/syndicateadmin/app/admin/materials/page.tsx"],m="/admin/materials/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/materials/page",pathname:"/admin/materials",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},359:(e,s,t)=>{Promise.resolve().then(t.bind(t,6860))},6860:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>P});var a=t(326),r=t(7577),i=t(772),n=t(2643),l=t(5940),d=t(567),c=t(2288),o=t(1677),m=t(3427),u=t(3313),x=t(5304),h=t(4432),p=t(1048),f=t(6694),g=t(7926);let j=(0,g.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),y=(0,g.Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);var b=t(8120),v=t(3183),N=t(4459),w=t(6840),C=t(6562),k=t(3495),S=t(9492),z=t(380),I=t(2959),A=t(3796),$=t(5999),Z=t(97);let D={search:"",categories:[],countries:[],cities:[],feeds:[]};function R({label:e,options:s,selected:t,onChange:n,disabled:l}){let[c,o]=(0,r.useState)(""),m=e=>{t.includes(e)?n(t.filter(s=>s!==e)):n([...t,e])},u=(0,r.useMemo)(()=>{let e=c.trim().toLowerCase();return e?s.filter(s=>s.label.toLowerCase().includes(e)):s},[s,c]);return(0,a.jsxs)(Z.h_,{onOpenChange:e=>!e&&o(""),children:[a.jsx(Z.$F,{asChild:!0,disabled:l,children:(0,a.jsxs)(i.z,{variant:"outline",size:"sm",className:"min-w-[160px] justify-between",children:[a.jsx("span",{children:e}),(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[t.length>0&&a.jsx(d.C,{variant:"secondary",className:"px-1 text-xs font-medium",children:t.length}),a.jsx(f.Z,{className:"h-3 w-3"})]})]})}),(0,a.jsxs)(Z.AW,{align:"start",className:"w-64 max-h-64 overflow-y-auto",children:[a.jsx(Z.Ju,{children:e}),a.jsx(Z.VD,{}),a.jsx("div",{className:"p-1",children:a.jsx(h.I,{placeholder:"Поиск...",value:c,onChange:e=>o(e.target.value),className:"h-8"})}),a.jsx(Z.VD,{}),0===u.length?a.jsx("div",{className:"px-2 py-1.5 text-xs text-muted-foreground",children:"Ничего не найдено"}):u.map(e=>a.jsx(Z.bO,{checked:t.includes(e.value),onCheckedChange:()=>m(e.value),children:e.label},String(e.value)))]})]})}function P(){let[e,s]=(0,r.useState)([]),[t,f]=(0,r.useState)(!0),[g,Z]=(0,r.useState)("all"),[P,_]=(0,r.useState)(null),[T,M]=(0,r.useState)(!1),[E,O]=(0,r.useState)(!1),[q,V]=(0,r.useState)(new Set),[F,L]=(0,r.useState)(null),[U,Y]=(0,r.useState)(!1),[J,W]=(0,r.useState)(new Set),[X,H]=(0,r.useState)(new Set),[G,K]=(0,r.useState)({total:0,new:0,processed:0,published:0,archived:0}),[B,Q]=(0,r.useState)(1),[ee,es]=(0,r.useState)(50),[et,ea]=(0,r.useState)(1),[er,ei]=(0,r.useState)(0),[en,el]=(0,r.useState)(new Set),[ed,ec]=(0,r.useState)({categories:[],countries:[]}),[eo,em]=(0,r.useState)(!1),[eu,ex]=(0,r.useState)(D),[eh,ep]=(0,r.useState)(!1),[ef,eg]=(0,r.useState)(!1),[ej,ey]=(0,r.useState)(null),[eb,ev]=(0,r.useState)({category:"",country:"",city:""}),[eN,ew]=(0,r.useState)({categoryIds:[],countryIds:[],cityIds:[]}),eC=(0,r.useMemo)(()=>{let s=new Set;return e.forEach(e=>{let t=e.feedName||e.source;t&&s.add(t)}),Array.from(s).sort((e,s)=>e.localeCompare(s,"ru"))},[e]),ek=(0,r.useMemo)(()=>{let e=[];return ed.countries.forEach(s=>{s.cities.forEach(t=>{e.push({value:t.id,label:`${t.name} — ${s.name}`})})}),e.sort((e,s)=>e.label.localeCompare(s.label,"ru"))},[ed.countries]),eS=(0,r.useMemo)(()=>eu.search.trim().length>0||eu.categories.length>0||eu.countries.length>0||eu.cities.length>0||eu.feeds.length>0,[eu]),ez=(0,r.useCallback)(async(e="all",t=B,a={})=>{let r=a.silent??!1;r||f(!0);try{let a=new URLSearchParams;a.set("status",e),a.set("page",t.toString()),a.set("pageSize",ee.toString()),eu.search&&a.set("search",eu.search),eu.categories.length>0&&a.set("categoryIds",eu.categories.join(",")),eu.countries.length>0&&a.set("countryIds",eu.countries.join(",")),eu.cities.length>0&&a.set("cityIds",eu.cities.join(",")),eu.feeds.length>0&&a.set("feedNames",eu.feeds.join(","));let r=await fetch(`/api/materials?${a.toString()}`),i=await r.json();i.success&&(s(i.data),i.pagination&&(ea(i.pagination.totalPages),ei(i.pagination.total),Q(i.pagination.page)),K(i.stats||{total:0,new:0,processed:0,published:0,archived:0}))}catch(e){console.error("Error fetching materials:",e)}finally{r||f(!1)}},[eu,ee,B]),eI=(0,r.useCallback)(async(e,s)=>{let t=await fetch("/api/materials",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,...s})}),a=await t.json();if(!t.ok||!a.success)throw Error(a.error||"Не удалось обновить материал")},[]),eA=(e,s,t)=>"archived"===t?"archived":s?"published":e?"processed":"new",e$=async(e,s)=>{W(s=>{let t=new Set(s);return t.add(e.id),t});let t=eA(s,e.published,e.status),a={processed:s};e.status!==t&&(a.status=t);try{await eI(e.id,a),$.Am.success(s?"Материал отмечен как обработанный":"Материал отмечен как необработанный"),_(t=>t&&t.id===e.id?{...t,processed:s,status:a.status??t.status}:t),await ez(g,B,{silent:!0})}catch(e){console.error("Error updating processed status:",e),$.Am.error("Не удалось обновить статус обработки")}finally{W(s=>{let t=new Set(s);return t.delete(e.id),t})}},eZ=async(e,s)=>{H(s=>{let t=new Set(s);return t.add(e.id),t});let t=eA(e.processed,s,e.status),a={published:s};e.status!==t&&(a.status=t);try{await eI(e.id,a),$.Am.success(s?"Материал опубликован":"Публикация снята"),_(t=>t&&t.id===e.id?{...t,published:s,status:a.status??t.status}:t),await ez(g,B,{silent:!0})}catch(e){console.error("Error updating publication status:",e),$.Am.error("Не удалось обновить статус публикации")}finally{H(s=>{let t=new Set(s);return t.delete(e.id),t})}},eD=async()=>{try{em(!0);let e=await fetch("/api/taxonomy"),s=await e.json();s.success?ec({categories:s.categories??[],countries:s.countries??[]}):$.Am.error(s.error||"Не удалось загрузить таксономию")}catch(e){console.error("Error fetching taxonomy:",e),$.Am.error("Не удалось загрузить таксономию")}finally{em(!1)}},eR=e=>{if(0===q.size){$.Am.warning("Выберите материалы для обработки");return}L(e)},eP=async()=>{if(!F)return;let s=Array.from(q);Y(!0);try{if("generate-summary"===F){let e=0,t=0,a="";for(let r of s){el(e=>new Set(e).add(r));try{let s=await fetch("/api/materials/generate-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({materialId:r})}),i=await s.json();i.success?e++:(t++,a||(a=i.error),console.error(`Failed to generate summary for ${r}:`,i.error))}catch(e){t++,a||(a=e instanceof Error?e.message:"Неизвестная ошибка"),console.error(`Error generating summary for ${r}:`,e)}finally{el(e=>{let s=new Set(e);return s.delete(r),s})}}await ez(g),await eD(),V(new Set),0===t?$.Am.success(`Саммари успешно сгенерировано для ${e} материал(ов)`):0===e?$.Am.error(`Ошибка: ${a}`):$.Am.warning(`Успешно: ${e}, Ошибки: ${t}. ${a}`)}else{if("delete"===F)for(let e of s)await fetch(`/api/materials?id=${e}`,{method:"DELETE"});else if("published"===F){let t=new Map(e.map(e=>[e.id,e]));for(let e of s){let s=t.get(e),a=eA(s?.processed??!1,!0,s?.status??"new");await eI(e,{published:!0,status:a})}}else if("archived"===F)for(let e of s)await eI(e,{status:"archived",published:!1});await ez(g,B),V(new Set),$.Am.success(`Успешно ${{published:"опубликовано",archived:"архивировано",delete:"удалено"}[F]} ${s.length} материал(ов)`)}}catch(e){console.error("Error performing bulk action:",e),$.Am.error("Ошибка при выполнении действия")}finally{Y(!1),L(null)}},e_=async e=>{Z(e),ex(D),await ez(e),V(new Set),Q(1)},eT=e=>{_(e),ew({categoryIds:e.categories?.map(e=>e.id)??[],countryIds:e.countries?.map(e=>e.id)??[],cityIds:e.cities?.map(e=>e.id)??[]}),O(!1),M(!0)},eM=(B-1)*ee,eE=eM+e.length,eO=e=>{Q(Math.max(1,Math.min(e,et)))},eq=e=>{es(e),Q(1)},eV=e=>{let s=new Set(q);s.has(e)?s.delete(e):s.add(e),V(s)},eF=(e,s)=>{ew(t=>{let a=new Set(t[e]);return a.delete(s),{...t,[e]:Array.from(a)}})},eL=e=>{ew(s=>({...s,[e]:[]}))},eU=e=>s=>{ev(t=>({...t,[e]:s.target.value}))},eY=async e=>{let s=eb[e];if(!s.trim()){$.Am.warning("Введите название");return}if("city"===e){if(0===eN.countryIds.length){$.Am.warning("Выберите хотя бы одну страну перед добавлением города");return}let t=eN.countryIds[0];try{ey(e);let a=await fetch("/api/taxonomy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,name:s,countryId:t})}),r=await a.json();if(!r.success){$.Am.error(r.error||"Не удалось создать элемент");return}await eD(),ew(e=>({...e,cityIds:Array.from(new Set([...e.cityIds,r.data.id]))})),ev(s=>({...s,[e]:""})),$.Am.success("Элемент создан")}catch(e){console.error("Error creating taxonomy item:",e),$.Am.error("Ошибка при создании элемента")}finally{ey(null)}return}try{ey(e);let t=await fetch("/api/taxonomy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,name:s})}),a=await t.json();if(!a.success){$.Am.error(a.error||"Не удалось создать элемент");return}switch(await eD(),e){case"category":ew(e=>({...e,categoryIds:Array.from(new Set([...e.categoryIds,a.data.id]))}));break;case"country":ew(e=>({...e,countryIds:Array.from(new Set([...e.countryIds,a.data.id]))}))}ev(s=>({...s,[e]:""})),$.Am.success("Элемент создан")}catch(e){console.error("Error creating taxonomy item:",e),$.Am.error("Ошибка при создании элемента")}finally{ey(null)}},eJ=async()=>{if(P)try{eg(!0);let e=await fetch("/api/materials/regenerate-taxonomy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({materialId:P.id})}),t=await e.json();if(!e.ok)throw Error(t.error||"Ошибка при регенерации таксономии");if(t.success&&t.data?.material){let e=t.data.material;_(e),ew({categoryIds:e.categories?.map(e=>e.id)??[],countryIds:e.countries?.map(e=>e.id)??[],cityIds:e.cities?.map(e=>e.id)??[]}),s(s=>s.map(s=>s.id===e.id?e:s)),$.Am.success("Таксономия успешно обновлена"),await eD()}}catch(e){console.error("Error regenerating taxonomy:",e),$.Am.error(e.message||"Ошибка при регенерации таксономии")}finally{eg(!1)}},eW=async()=>{if(P)try{ep(!0);let e=await fetch("/api/materials/taxonomy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({materialId:P.id,categoryIds:eN.categoryIds,countryIds:eN.countryIds,cityIds:eN.cityIds})}),t=await e.json();if(!t.success){$.Am.error(t.error||"Не удалось сохранить таксономию");return}let a=t.data;s(e=>e.map(e=>e.id===a.id?a:e)),_(a),ew({categoryIds:a.categories?.map(e=>e.id)??[],countryIds:a.countries?.map(e=>e.id)??[],cityIds:a.cities?.map(e=>e.id)??[]}),$.Am.success("Таксономия обновлена")}catch(e){console.error("Error saving taxonomy:",e),$.Am.error("Не удалось сохранить таксономию")}finally{ep(!1)}},eX=e=>{switch(e){case"new":return a.jsx(d.C,{variant:"default",children:"Новый"});case"processed":return a.jsx(d.C,{variant:"secondary",className:"bg-green-500/10 text-green-700 dark:text-green-400",children:"Обработанные"});case"published":return a.jsx(d.C,{variant:"secondary",className:"bg-blue-500/10 text-blue-700 dark:text-blue-400",children:"Опубликован"});case"archived":return a.jsx(d.C,{variant:"outline",children:"Архив"});default:return a.jsx(d.C,{children:e})}},eH=e=>{let s=new Date(e),t=String(s.getDate()).padStart(2,"0"),a=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getFullYear()).slice(-2),i=String(s.getHours()).padStart(2,"0"),n=String(s.getMinutes()).padStart(2,"0");return`${t}.${a}.${r} ${i}:${n}`},eG=(()=>{let e=q.size;switch(F){case"published":return{title:"Опубликовать материалы",description:`Вы уверены, что хотите опубликовать ${e} материал(ов)?`,actionText:"Опубликовать",variant:"default"};case"archived":return{title:"Архивировать материалы",description:`Вы уверены, что хотите архивировать ${e} материал(ов)?`,actionText:"Архивировать",variant:"default"};case"delete":return{title:"Удалить материалы",description:`Вы уверены, что хотите удалить ${e} материал(ов)? Это действие необратимо!`,actionText:"Удалить",variant:"destructive"};case"generate-summary":return{title:"Генерация саммари",description:1===e?"Сгенерировать саммари для этого материала?":`Сгенерировать саммари для ${e} материалов?`,actionText:"Сгенерировать",variant:"default"};default:return null}})();return(0,a.jsxs)(a.Fragment,{children:[a.jsx(A.P,{}),a.jsx("div",{className:"min-h-screen bg-background p-8",children:(0,a.jsxs)("div",{className:"container space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx(m.mQ,{value:g,onValueChange:e_,children:(0,a.jsxs)(m.dr,{children:[(0,a.jsxs)(m.SP,{value:"all",children:["Все ",G.total>0&&(0,a.jsxs)("span",{className:"ml-1.5 text-xs",children:["(",G.total,")"]})]}),(0,a.jsxs)(m.SP,{value:"new",children:["Новые ",G.new>0&&(0,a.jsxs)("span",{className:"ml-1.5 text-xs",children:["(",G.new,")"]})]}),(0,a.jsxs)(m.SP,{value:"processed",children:["Обработанные ",G.processed>0&&(0,a.jsxs)("span",{className:"ml-1.5 text-xs",children:["(",G.processed,")"]})]}),(0,a.jsxs)(m.SP,{value:"published",children:["Опубликованные ",G.published>0&&(0,a.jsxs)("span",{className:"ml-1.5 text-xs",children:["(",G.published,")"]})]}),(0,a.jsxs)(m.SP,{value:"archived",children:["Архив ",G.archived>0&&(0,a.jsxs)("span",{className:"ml-1.5 text-xs",children:["(",G.archived,")"]})]})]})})}),q.size>0&&a.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 animate-in slide-in-from-bottom-4 fade-in duration-300",children:a.jsx(n.Zb,{className:"border-primary shadow-2xl",children:a.jsx(n.aY,{className:"py-4 px-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-sm font-medium",children:["Выбрано: ",a.jsx("span",{className:"text-primary font-bold",children:q.size})," материал(ов)"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(i.z,{size:"sm",variant:"default",onClick:()=>eR("published"),children:[a.jsx(j,{className:"mr-2 h-4 w-4"}),"Опубликовать"]}),(0,a.jsxs)(i.z,{size:"sm",variant:"secondary",onClick:()=>eR("generate-summary"),children:[a.jsx(y,{className:"mr-2 h-4 w-4"}),"Саммари"]}),(0,a.jsxs)(i.z,{size:"sm",variant:"outline",onClick:()=>eR("archived"),children:[a.jsx(b.Z,{className:"mr-2 h-4 w-4"}),"Архивировать"]}),(0,a.jsxs)(i.z,{size:"sm",variant:"destructive",onClick:()=>eR("delete"),children:[a.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"Удалить"]})]}),a.jsx(i.z,{size:"sm",variant:"ghost",onClick:()=>V(new Set),children:"Отменить"})]})})})}),(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:(0,a.jsxs)(n.ll,{children:["Материалы (",er,")"]})}),(0,a.jsxs)(n.aY,{children:[(0,a.jsxs)("div",{className:"mb-4 flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.jsx(h.I,{placeholder:"Поиск…",value:eu.search,onChange:e=>ex(s=>({...s,search:e.target.value})),className:"h-9 w-full sm:w-64"}),a.jsx(R,{label:"Категории",options:ed.categories.map(e=>({value:e.id,label:e.name})),selected:eu.categories,onChange:e=>ex(s=>({...s,categories:e})),disabled:0===ed.categories.length}),a.jsx(R,{label:"Страны",options:ed.countries.map(e=>({value:e.id,label:e.name})),selected:eu.countries,onChange:e=>ex(s=>({...s,countries:e})),disabled:0===ed.countries.length}),a.jsx(R,{label:"Города",options:ek,selected:eu.cities,onChange:e=>ex(s=>({...s,cities:e})),disabled:0===ek.length}),a.jsx(R,{label:"Источники",options:eC.map(e=>({value:e,label:e})),selected:eu.feeds,onChange:e=>ex(s=>({...s,feeds:e})),disabled:0===eC.length})]}),a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:a.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>ex(D),disabled:!eS,children:"Сбросить фильтры"})})]}),!t&&e.length>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[a.jsx("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Показано ",0===e.length?0:eM+1,"-",eE," из ",er]})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"На странице:"}),a.jsx("div",{className:"flex gap-1",children:[25,50,100,200].map(e=>a.jsx(i.z,{variant:ee===e?"default":"outline",size:"sm",onClick:()=>eq(e),className:"h-8 w-12",children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>eO(1),disabled:1===B,className:"h-8 w-8 p-0",title:"Первая страница",children:a.jsx(N.Z,{className:"h-4 w-4"})}),a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>eO(B-1),disabled:1===B,className:"h-8 w-8 p-0",title:"Предыдущая страница",children:a.jsx(w.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex items-center gap-1 px-2",children:[a.jsx("span",{className:"text-sm font-medium",children:B}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"из"}),a.jsx("span",{className:"text-sm font-medium",children:et})]}),a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>eO(B+1),disabled:B===et,className:"h-8 w-8 p-0",title:"Следующая страница",children:a.jsx(C.Z,{className:"h-4 w-4"})}),a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>eO(et),disabled:B===et,className:"h-8 w-8 p-0",title:"Последняя страница",children:a.jsx(k.Z,{className:"h-4 w-4"})})]})]})]}),t?a.jsx("div",{className:"space-y-2",children:Array.from({length:10}).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(x.O,{className:"h-12 w-12"}),a.jsx(x.O,{className:"h-16 w-16 rounded"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[a.jsx(x.O,{className:"h-4 w-full"}),a.jsx(x.O,{className:"h-4 w-3/4"})]}),a.jsx(x.O,{className:"h-8 w-24"}),a.jsx(x.O,{className:"h-8 w-20"})]},s))}):0===e.length?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:eS?"Материалы по выбранным фильтрам не найдены.":"Нет материалов. Добавьте RSS фиды и синхронизируйте их на главной."}):(0,a.jsxs)(l.iA,{children:[a.jsx(l.xD,{children:(0,a.jsxs)(l.SC,{children:[a.jsx(l.ss,{className:"w-12",children:a.jsx(u.X,{checked:e.length>0&&e.every(e=>q.has(e.id)),onCheckedChange:()=>{if(q.size===e.length&&e.length>0){let s=new Set(q);e.forEach(e=>s.delete(e.id)),V(s)}else{let s=new Set(q);e.forEach(e=>s.add(e.id)),V(s)}}})}),a.jsx(l.ss,{className:"w-20",children:"Обложка"}),a.jsx(l.ss,{className:"min-w-[300px]",children:"Заголовок"}),a.jsx(l.ss,{className:"w-[220px]",children:"Категории"}),a.jsx(l.ss,{children:"Источник"}),a.jsx(l.ss,{className:"w-[130px]",children:"Дата"}),a.jsx(l.ss,{className:"w-[140px]",children:"Саммари"}),a.jsx(l.ss,{className:"w-[160px]",children:"Статус обработки"}),a.jsx(l.ss,{className:"w-[160px]",children:"Статус публикации"}),a.jsx(l.ss,{children:"Статус"})]})}),a.jsx(l.RM,{children:e.map(e=>(0,a.jsxs)(l.SC,{className:"cursor-pointer hover:bg-accent/50",children:[a.jsx(l.pj,{onClick:e=>e.stopPropagation(),children:a.jsx(u.X,{checked:q.has(e.id),onCheckedChange:()=>eV(e.id)})}),a.jsx(l.pj,{onClick:()=>eT(e),children:e.thumbnail?a.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-16 h-16 object-cover rounded",onError:e=>{e.currentTarget.style.display="none"}}):a.jsx("div",{className:"w-16 h-16 bg-muted rounded flex items-center justify-center text-xs text-muted-foreground",children:"Нет фото"})}),a.jsx(l.pj,{className:"font-medium",onClick:()=>eT(e),children:a.jsx("div",{className:"line-clamp-3 leading-snug",children:e.title})}),a.jsx(l.pj,{onClick:()=>eT(e),children:e.categories&&e.categories.length>0?(0,a.jsxs)("div",{className:"flex max-w-[220px] flex-wrap gap-1",children:[e.categories.slice(0,3).map(s=>a.jsx(d.C,{variant:"outline",className:"text-xs font-normal",children:s.name},`${e.id}-category-${s.id}`)),e.categories.length>3&&(0,a.jsxs)(d.C,{variant:"secondary",className:"text-xs font-normal",children:["+",e.categories.length-3]})]}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"—"})}),a.jsx(l.pj,{onClick:()=>eT(e),children:a.jsx("div",{className:"truncate max-w-[200px]",title:e.feedName||e.source,children:e.feedName||e.source||"—"})}),a.jsx(l.pj,{onClick:()=>eT(e),children:eH(e.createdAt)}),a.jsx(l.pj,{onClick:()=>eT(e),children:en.has(e.id)?a.jsx(d.C,{variant:"secondary",className:"bg-blue-500/10 text-blue-700 dark:text-blue-400",children:"Генерация..."}):e.summary&&e.summary.trim().length>0?a.jsx(d.C,{variant:"default",children:"Есть"}):a.jsx(d.C,{variant:"outline",children:"Нет"})}),a.jsx(l.pj,{onClick:()=>eT(e),children:a.jsx(d.C,{variant:e.processed?"secondary":"outline",className:e.processed?"border-green-500/20 bg-green-500/10 text-green-700 dark:text-green-400":"text-muted-foreground",children:e.processed?"Обработан":"Не обработан"})}),a.jsx(l.pj,{onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(d.C,{variant:e.published?"secondary":"outline",className:e.published?"border-blue-500/20 bg-blue-500/10 text-blue-700 dark:text-blue-400":"text-muted-foreground",children:e.published?"Опубликован":"Не опубликован"}),a.jsx(i.z,{variant:"ghost",size:"icon",onClick:()=>eZ(e,!e.published),disabled:X.has(e.id)||U,title:e.published?"Снять публикацию":"Опубликовать материал",children:X.has(e.id)?a.jsx(S.Z,{className:"h-4 w-4 animate-spin"}):e.published?a.jsx(z.Z,{className:"h-4 w-4 text-red-500"}):a.jsx(j,{className:"h-4 w-4 text-blue-500"})})]})}),a.jsx(l.pj,{onClick:()=>eT(e),children:eX(e.status)})]},e.id))})]}),!t&&e.length>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[a.jsx("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Показано ",0===e.length?0:eM+1,"-",eE," из ",er]})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"На странице:"}),a.jsx("div",{className:"flex gap-1",children:[25,50,100,200].map(e=>a.jsx(i.z,{variant:ee===e?"default":"outline",size:"sm",onClick:()=>eq(e),className:"h-8 w-12",children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>eO(1),disabled:1===B,className:"h-8 w-8 p-0",title:"Первая страница",children:a.jsx(N.Z,{className:"h-4 w-4"})}),a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>eO(B-1),disabled:1===B,className:"h-8 w-8 p-0",title:"Предыдущая страница",children:a.jsx(w.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex items-center gap-1 px-2",children:[a.jsx("span",{className:"text-sm font-medium",children:B}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"из"}),a.jsx("span",{className:"text-sm font-medium",children:et})]}),a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>eO(B+1),disabled:B===et,className:"h-8 w-8 p-0",title:"Следующая страница",children:a.jsx(C.Z,{className:"h-4 w-4"})}),a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>eO(et),disabled:B===et,className:"h-8 w-8 p-0",title:"Последняя страница",children:a.jsx(k.Z,{className:"h-4 w-4"})})]})]})]})]})]}),a.jsx(o.aR,{open:null!==F,onOpenChange:e=>!e&&L(null),children:(0,a.jsxs)(o._T,{children:[(0,a.jsxs)(o.fY,{children:[a.jsx(o.f$,{children:eG?.title}),a.jsx(o.yT,{children:eG?.description})]}),(0,a.jsxs)(o.xo,{children:[a.jsx(o.le,{children:"Отмена"}),a.jsx(o.OL,{onClick:eP,disabled:U,className:`${eG?.variant==="destructive"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":""} flex items-center`,children:U?(0,a.jsxs)(a.Fragment,{children:[a.jsx(S.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"delete"===F?"Удаление...":"Выполнение..."]}):eG?.actionText})]})]})}),a.jsx(c.Vq,{open:T,onOpenChange:M,children:(0,a.jsxs)(c.cZ,{className:"w-[min(95vw,1100px)] max-h-[85vh] overflow-y-auto",children:[(0,a.jsxs)(c.fK,{children:[a.jsx(c.$N,{className:"text-2xl pr-8",children:P?.title}),(0,a.jsxs)(c.Be,{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Автор:"})," ",P?.author||"—"]}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Источник:"})," ",P?.feedName||P?.source||"—"]}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Дата:"})," ",P&&eH(P.createdAt)]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.jsx(d.C,{variant:P?.processed?"secondary":"outline",className:P?.processed?"border-green-500/20 bg-green-500/10 text-green-700 dark:text-green-400":"text-muted-foreground",children:P?.processed?"Обработан":"Не обработан"}),a.jsx(d.C,{variant:P?.published?"secondary":"outline",className:P?.published?"border-blue-500/20 bg-blue-500/10 text-blue-700 dark:text-blue-400":"text-muted-foreground",children:P?.published?"Опубликован":"Не опубликован"})]}),P&&(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 pt-1 text-xs text-muted-foreground",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[a.jsx(u.X,{checked:P.processed,onCheckedChange:e=>e$(P,!0===e),disabled:J.has(P.id)}),a.jsx("span",{children:J.has(P.id)?"Обновляем статус обработки...":"Обработан"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[a.jsx(u.X,{checked:P.published,onCheckedChange:e=>eZ(P,!0===e),disabled:X.has(P.id)}),a.jsx("span",{children:X.has(P.id)?"Обновляем статус публикации...":"Опубликован"})]})]})]})]}),P?.metaDescription&&(0,a.jsxs)("div",{className:"mt-4 rounded-lg border bg-muted/40 p-4 text-sm leading-relaxed",children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Meta description"}),a.jsx("p",{className:"mt-2 text-foreground",children:P.metaDescription})]}),P?.summary&&(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Саммари"}),a.jsx(d.C,{variant:"secondary",children:"AI"})]}),a.jsx("div",{className:"rounded-lg border bg-background p-4 text-sm leading-relaxed whitespace-pre-wrap",children:P.summary})]}),(0,a.jsxs)("div",{className:"mt-6 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Полный текст"}),a.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>O(e=>!e),children:E?"Скрыть текст":"Показать текст"})]}),a.jsx("div",{className:"rounded-lg border bg-background p-4 text-sm leading-relaxed",children:E?P?.fullContent?a.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:P.fullContent.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/on\w+="[^"]*"/g,"").replace(/on\w+='[^']*'/g,"")}}):a.jsx("p",{className:"text-foreground",children:P?.content}):a.jsx("p",{className:"text-muted-foreground",children:"Текст скрыт для удобства чтения. Нажмите \xabПоказать текст\xbb, чтобы развернуть статью полностью."})})]}),a.jsx("div",{className:"mt-6 space-y-6",children:eo?a.jsx("div",{className:"text-sm text-muted-foreground",children:"Загрузка справочников..."}):(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("section",{className:"rounded-lg border bg-muted/30 p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx(p._,{className:"text-sm font-semibold",children:"Категории"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Выберите 1–3 наиболее релевантных категории или добавьте новую."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(R,{label:"Добавить из списка",options:ed.categories.map(e=>({value:e.id,label:e.name})),selected:eN.categoryIds,onChange:e=>ew(s=>({...s,categoryIds:e})),disabled:0===ed.categories.length}),a.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>eL("categoryIds"),disabled:0===eN.categoryIds.length,children:"Очистить"})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:eN.categoryIds.length>0?eN.categoryIds.map(e=>{let s=ed.categories.find(s=>s.id===e);return s?(0,a.jsxs)(d.C,{variant:"secondary",className:"gap-1",children:[s.name,a.jsx("button",{type:"button",className:"ml-1 inline-flex h-4 w-4 items-center justify-center rounded-sm hover:text-destructive",onClick:()=>eF("categoryIds",e),children:a.jsx(z.Z,{className:"h-3 w-3"})})]},`selected-category-${e}`):null}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"Категории не выбраны"})}),(0,a.jsxs)("div",{className:"space-y-2 border-t pt-4",children:[a.jsx(p._,{className:"text-xs font-medium text-muted-foreground",children:"Нет нужной категории?"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row",children:[a.jsx(h.I,{value:eb.category,onChange:eU("category"),placeholder:"Название новой категории",className:"h-9"}),a.jsx(i.z,{size:"sm",onClick:()=>eY("category"),disabled:"category"===ej,children:"category"===ej?"Добавление...":"Добавить"})]})]})]}),(0,a.jsxs)("div",{className:"grid gap-5 md:grid-cols-2",children:[a.jsx("section",{className:"rounded-lg border bg-muted/10 p-4 space-y-4",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx(p._,{className:"text-sm font-semibold",children:"Страны"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Укажите страны, к которым относится материал."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(R,{label:"Добавить страну",options:ed.countries.map(e=>({value:e.id,label:e.name})),selected:eN.countryIds,onChange:e=>ew(s=>({...s,countryIds:e})),disabled:0===ed.countries.length}),a.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>eL("countryIds"),disabled:0===eN.countryIds.length,children:"Очистить"})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:eN.countryIds.length>0?eN.countryIds.map(e=>{let s=ed.countries.find(s=>s.id===e);return s?(0,a.jsxs)(d.C,{variant:"secondary",className:"gap-1",children:[s.name,a.jsx("button",{type:"button",className:"ml-1 inline-flex h-4 w-4 items-center justify-center rounded-sm hover:text-destructive",onClick:()=>eF("countryIds",e),children:a.jsx(z.Z,{className:"h-3 w-3"})})]},`selected-country-${e}`):null}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"Страны не выбраны"})}),(0,a.jsxs)("div",{className:"space-y-2 border-t pt-4",children:[a.jsx(p._,{className:"text-xs font-medium text-muted-foreground",children:"Добавить новую страну"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row",children:[a.jsx(h.I,{value:eb.country,onChange:eU("country"),placeholder:"Название новой страны",className:"h-9"}),a.jsx(i.z,{size:"sm",onClick:()=>eY("country"),disabled:"country"===ej,children:"country"===ej?"Добавление...":"Добавить"})]})]})]})}),a.jsx("section",{className:"rounded-lg border bg-muted/10 p-4 space-y-4",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx(p._,{className:"text-sm font-semibold",children:"Города"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Выберите города. Сначала укажите страну — мы подберём связанные города автоматически."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(R,{label:"Добавить город",options:ek,selected:eN.cityIds,onChange:e=>ew(s=>({...s,cityIds:e})),disabled:0===ek.length}),a.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>eL("cityIds"),disabled:0===eN.cityIds.length,children:"Очистить"})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:eN.cityIds.length>0?eN.cityIds.map(e=>{let s=ek.find(s=>s.value===e);return s?(0,a.jsxs)(d.C,{variant:"secondary",className:"gap-1",children:[s.label,a.jsx("button",{type:"button",className:"ml-1 inline-flex h-4 w-4 items-center justify-center rounded-sm hover:text-destructive",onClick:()=>eF("cityIds",e),children:a.jsx(z.Z,{className:"h-3 w-3"})})]},`selected-city-${e}`):null}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"Города не выбраны"})}),(0,a.jsxs)("div",{className:"space-y-2 border-t pt-4",children:[a.jsx(p._,{className:"text-xs font-medium text-muted-foreground",children:"Добавить новый город"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row",children:[a.jsx(h.I,{value:eb.city,onChange:eU("city"),placeholder:"Название нового города",className:"h-9",disabled:0===eN.countryIds.length}),a.jsx(i.z,{size:"sm",onClick:()=>eY("city"),disabled:0===eN.countryIds.length||"city"===ej,children:"city"===ej?"Добавление...":"Добавить"})]}),0===eN.countryIds.length&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Чтобы добавить город, сначала выберите страну."})]})]})})]})]})}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(i.z,{onClick:eJ,disabled:ef||eo,variant:"outline",children:ef?(0,a.jsxs)(a.Fragment,{children:[a.jsx(y,{className:"h-4 w-4 mr-2 animate-spin"}),"Регенерация..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(y,{className:"h-4 w-4 mr-2"}),"Регенерировать таксономию"]})}),a.jsx(i.z,{onClick:eW,disabled:eh||eo,children:eh?"Сохранение...":"Сохранить"})]}),(P?.link||P?.source)&&a.jsx("div",{className:"mt-6 pt-4 border-t",children:a.jsx(i.z,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsxs)("a",{href:P.link||P.source||"#",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[a.jsx(I.Z,{className:"h-4 w-4"}),"Открыть источник"]})})})]})})]})})]})}},1677:(e,s,t)=>{"use strict";t.d(s,{aR:()=>D,OL:()=>O,le:()=>q,_T:()=>P,yT:()=>E,xo:()=>T,fY:()=>_,f$:()=>M});var a=t(326),r=t(7577),i=t(3095),n=t(8051),l=t(7956),d=t(2561),c=Symbol("radix.slottable"),o="AlertDialog",[m,u]=(0,i.b)(o,[l.p8]),x=(0,l.p8)(),h=e=>{let{__scopeAlertDialog:s,...t}=e,r=x(s);return(0,a.jsx)(l.fC,{...r,...t,modal:!0})};h.displayName=o,r.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...r}=e,i=x(t);return(0,a.jsx)(l.xz,{...i,...r,ref:s})}).displayName="AlertDialogTrigger";var p=e=>{let{__scopeAlertDialog:s,...t}=e,r=x(s);return(0,a.jsx)(l.h_,{...r,...t})};p.displayName="AlertDialogPortal";var f=r.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...r}=e,i=x(t);return(0,a.jsx)(l.aV,{...i,...r,ref:s})});f.displayName="AlertDialogOverlay";var g="AlertDialogContent",[j,y]=m(g),b=function(e){let s=({children:e})=>(0,a.jsx)(a.Fragment,{children:e});return s.displayName=`${e}.Slottable`,s.__radixId=c,s}("AlertDialogContent"),v=r.forwardRef((e,s)=>{let{__scopeAlertDialog:t,children:i,...c}=e,o=x(t),m=r.useRef(null),u=(0,n.e)(s,m),h=r.useRef(null);return(0,a.jsx)(l.jm,{contentName:g,titleName:N,docsSlug:"alert-dialog",children:(0,a.jsx)(j,{scope:t,cancelRef:h,children:(0,a.jsxs)(l.VY,{role:"alertdialog",...o,...c,ref:u,onOpenAutoFocus:(0,d.Mj)(c.onOpenAutoFocus,e=>{e.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,a.jsx)(b,{children:i}),(0,a.jsx)(A,{contentRef:m})]})})})});v.displayName=g;var N="AlertDialogTitle",w=r.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...r}=e,i=x(t);return(0,a.jsx)(l.Dx,{...i,...r,ref:s})});w.displayName=N;var C="AlertDialogDescription",k=r.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...r}=e,i=x(t);return(0,a.jsx)(l.dk,{...i,...r,ref:s})});k.displayName=C;var S=r.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...r}=e,i=x(t);return(0,a.jsx)(l.x8,{...i,...r,ref:s})});S.displayName="AlertDialogAction";var z="AlertDialogCancel",I=r.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...r}=e,{cancelRef:i}=y(z,t),d=x(t),c=(0,n.e)(s,i);return(0,a.jsx)(l.x8,{...d,...r,ref:c})});I.displayName=z;var A=({contentRef:e})=>{let s=`\`${g}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${g}\` by passing a \`${C}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${g}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,e]),null},$=t(7863),Z=t(772);let D=h,R=r.forwardRef(({className:e,...s},t)=>a.jsx(f,{className:(0,$.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:t}));R.displayName=f.displayName;let P=r.forwardRef(({className:e,...s},t)=>(0,a.jsxs)(p,{children:[a.jsx(R,{}),a.jsx(v,{ref:t,className:(0,$.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s})]}));P.displayName=v.displayName;let _=({className:e,...s})=>a.jsx("div",{className:(0,$.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});_.displayName="AlertDialogHeader";let T=({className:e,...s})=>a.jsx("div",{className:(0,$.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});T.displayName="AlertDialogFooter";let M=r.forwardRef(({className:e,...s},t)=>a.jsx(w,{ref:t,className:(0,$.cn)("text-lg font-semibold",e),...s}));M.displayName=w.displayName;let E=r.forwardRef(({className:e,...s},t)=>a.jsx(k,{ref:t,className:(0,$.cn)("text-sm text-muted-foreground",e),...s}));E.displayName=k.displayName;let O=r.forwardRef(({className:e,...s},t)=>a.jsx(S,{ref:t,className:(0,$.cn)((0,Z.d)(),e),...s}));O.displayName=S.displayName;let q=r.forwardRef(({className:e,...s},t)=>a.jsx(I,{ref:t,className:(0,$.cn)((0,Z.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));q.displayName=I.displayName},567:(e,s,t)=>{"use strict";t.d(s,{C:()=>l});var a=t(326);t(7577);var r=t(9360),i=t(7863);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:s,...t}){return a.jsx("div",{className:(0,i.cn)(n({variant:s}),e),...t})}},97:(e,s,t)=>{"use strict";t.d(s,{$F:()=>o,AW:()=>m,Ju:()=>h,VD:()=>p,Xi:()=>u,bO:()=>x,h_:()=>c});var a=t(326),r=t(7577),i=t(5432),n=t(6562),l=t(799),d=t(7863);let c=i.fC,o=i.xz;i.ZA,i.Uv,i.Tr,i.Ee,r.forwardRef(({className:e,inset:s,children:t,...r},l)=>(0,a.jsxs)(i.fF,{ref:l,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...r,children:[t,a.jsx(n.Z,{className:"ml-auto h-4 w-4"})]})).displayName=i.fF.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(i.tu,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})).displayName=i.tu.displayName;let m=r.forwardRef(({className:e,sideOffset:s=4,...t},r)=>a.jsx(i.Uv,{children:a.jsx(i.VY,{ref:r,sideOffset:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));m.displayName=i.VY.displayName;let u=r.forwardRef(({className:e,inset:s,...t},r)=>a.jsx(i.ck,{ref:r,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...t}));u.displayName=i.ck.displayName;let x=r.forwardRef(({className:e,children:s,checked:t,...r},n)=>(0,a.jsxs)(i.oC,{ref:n,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx(l.Z,{className:"h-4 w-4"})})}),s]}));x.displayName=i.oC.displayName,r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(i.Rk,{ref:r,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx("span",{className:"h-2 w-2 rounded-full bg-current"})})}),s]})).displayName=i.Rk.displayName;let h=r.forwardRef(({className:e,inset:s,...t},r)=>a.jsx(i.__,{ref:r,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...t}));h.displayName=i.__.displayName;let p=r.forwardRef(({className:e,...s},t)=>a.jsx(i.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...s}));p.displayName=i.Z0.displayName},3427:(e,s,t)=>{"use strict";t.d(s,{mQ:()=>A,nU:()=>D,dr:()=>$,SP:()=>Z});var a=t(326),r=t(7577),i=t(2561),n=t(3095),l=t(5594),d=t(9815),c=t(7335),o=t(7124),m=t(2067),u=t(8957),x="Tabs",[h,p]=(0,n.b)(x,[l.Pc]),f=(0,l.Pc)(),[g,j]=h(x),y=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,onValueChange:i,defaultValue:n,orientation:l="horizontal",dir:d,activationMode:h="automatic",...p}=e,f=(0,o.gm)(d),[j,y]=(0,m.T)({prop:r,onChange:i,defaultProp:n??"",caller:x});return(0,a.jsx)(g,{scope:t,baseId:(0,u.M)(),value:j,onValueChange:y,orientation:l,dir:f,activationMode:h,children:(0,a.jsx)(c.WV.div,{dir:f,"data-orientation":l,...p,ref:s})})});y.displayName=x;var b="TabsList",v=r.forwardRef((e,s)=>{let{__scopeTabs:t,loop:r=!0,...i}=e,n=j(b,t),d=f(t);return(0,a.jsx)(l.fC,{asChild:!0,...d,orientation:n.orientation,dir:n.dir,loop:r,children:(0,a.jsx)(c.WV.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:s})})});v.displayName=b;var N="TabsTrigger",w=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,disabled:n=!1,...d}=e,o=j(N,t),m=f(t),u=S(o.baseId,r),x=z(o.baseId,r),h=r===o.value;return(0,a.jsx)(l.ck,{asChild:!0,...m,focusable:!n,active:h,children:(0,a.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...d,ref:s,onMouseDown:(0,i.Mj)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(r)}),onKeyDown:(0,i.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(r)}),onFocus:(0,i.Mj)(e.onFocus,()=>{let e="manual"!==o.activationMode;h||n||!e||o.onValueChange(r)})})})});w.displayName=N;var C="TabsContent",k=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:i,forceMount:n,children:l,...o}=e,m=j(C,t),u=S(m.baseId,i),x=z(m.baseId,i),h=i===m.value,p=r.useRef(h);return r.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(d.z,{present:n||h,children:({present:t})=>(0,a.jsx)(c.WV.div,{"data-state":h?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!t,id:x,tabIndex:0,...o,ref:s,style:{...e.style,animationDuration:p.current?"0s":void 0},children:t&&l})})});function S(e,s){return`${e}-trigger-${s}`}function z(e,s){return`${e}-content-${s}`}k.displayName=C;var I=t(7863);let A=y,$=r.forwardRef(({className:e,...s},t)=>a.jsx(v,{ref:t,className:(0,I.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));$.displayName=v.displayName;let Z=r.forwardRef(({className:e,...s},t)=>a.jsx(w,{ref:t,className:(0,I.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));Z.displayName=w.displayName;let D=r.forwardRef(({className:e,...s},t)=>a.jsx(k,{ref:t,className:(0,I.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));D.displayName=k.displayName},2227:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var a=t(8570);let r=(0,a.createProxy)(String.raw`/Users/macbookpro/Desktop/syndicateadmin/app/admin/materials/page.tsx`),{__esModule:i,$$typeof:n}=r;r.default;let l=(0,a.createProxy)(String.raw`/Users/macbookpro/Desktop/syndicateadmin/app/admin/materials/page.tsx#default`)},8120:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]])},6694:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},6840:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},4459:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]])},3495:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]])},2959:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},9492:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[948,283,896,434,631,432,392,627],()=>t(3934));module.exports=a})();