(()=>{var e={};e.id=140,e.ids=[140],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5900:e=>{"use strict";e.exports=require("pg")},9261:e=>{"use strict";e.exports=require("postcss")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},5338:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),t(2740),t(596),t(7489),t(5866);var s=t(3191),a=t(8716),n=t(7922),i=t.n(n),o=t(5231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(r,d);let l=["",{children:["admin",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2740)),"/Users/macbookpro/Desktop/syndicateadmin/app/admin/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,596)),"/Users/macbookpro/Desktop/syndicateadmin/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,7489)),"/Users/macbookpro/Desktop/syndicateadmin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/macbookpro/Desktop/syndicateadmin/app/admin/settings/page.tsx"],u="/admin/settings/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/settings/page",pathname:"/admin/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},3239:(e,r,t)=>{Promise.resolve().then(t.bind(t,9459))},8287:(e,r,t)=>{Promise.resolve().then(t.bind(t,2346))},6421:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},5303:()=>{},9459:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var s=t(326),a=t(7577),n=t(3796),i=t(772),o=t(2643),d=t(4432),l=t(1048),c=t(7673),u=t(5999);let m=(0,t(7926).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);function p(){let[e,r]=(0,a.useState)({geminiApiKey:"",summaryPrompt:"Создай краткое саммари следующей статьи. Выдели основные моменты и ключевые идеи. Ответ должен быть на русском языке, лаконичным и информативным (3-5 предложений)."}),[t,p]=(0,a.useState)(!0),[x,f]=(0,a.useState)(!1),g=async()=>{if(!e.geminiApiKey.trim()){u.Am.warning("Введите API ключ Gemini");return}f(!0);try{let r=await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await r.json();t.success?u.Am.success("Настройки успешно сохранены"):u.Am.error(`Ошибка: ${t.error}`)}catch(e){console.error("Error saving settings:",e),u.Am.error("Ошибка при сохранении настроек")}finally{f(!1)}};return t?(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.P,{}),s.jsx("div",{className:"min-h-screen bg-background p-8",children:s.jsx("div",{className:"container max-w-4xl",children:s.jsx("div",{className:"text-center py-8",children:"Загрузка..."})})})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.P,{}),s.jsx("div",{className:"min-h-screen bg-background p-8",children:(0,s.jsxs)("div",{className:"container max-w-4xl space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Настройки"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Настройте интеграцию с Gemini AI для генерации саммари статей"})]}),(0,s.jsxs)(o.Zb,{children:[(0,s.jsxs)(o.Ol,{children:[s.jsx(o.ll,{children:"Gemini AI"}),(0,s.jsxs)(o.SZ,{children:["API ключ можно получить на"," ",s.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"aistudio.google.com"})]})]}),(0,s.jsxs)(o.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(l._,{htmlFor:"apiKey",children:"API ключ Gemini"}),s.jsx(d.I,{id:"apiKey",type:"password",placeholder:"AIzaSy...",value:e.geminiApiKey,onChange:t=>r({...e,geminiApiKey:t.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(l._,{htmlFor:"prompt",children:"Промпт для генерации саммари"}),s.jsx(c.g,{id:"prompt",rows:6,placeholder:"Введите промпт для нейросети...",value:e.summaryPrompt,onChange:t=>r({...e,summaryPrompt:t.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Текст статьи будет автоматически добавлен после промпта"})]}),s.jsx(i.z,{onClick:g,disabled:x,children:x?s.jsx(s.Fragment,{children:"Сохранение..."}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(m,{className:"mr-2 h-4 w-4"}),"Сохранить настройки"]})})]})]})]})})]})}},3796:(e,r,t)=>{"use strict";t.d(r,{P:()=>c});var s=t(326),a=t(434),n=t(5047),i=t(7863),o=t(772),d=t(6125),l=t(5999);function c(){let e=(0,n.usePathname)(),r=(0,n.useRouter)(),t=async()=>{try{(await fetch("/api/admin/logout",{method:"POST"})).ok&&(l.Am.success("Вы вышли из системы"),r.push("/admin/login"),r.refresh())}catch(e){console.error("Logout error:",e),l.Am.error("Ошибка при выходе")}};return s.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsxs)("div",{className:"container flex h-16 items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-6 md:gap-10",children:[s.jsx(a.default,{href:"/admin",className:"flex items-center space-x-2",children:(0,s.jsxs)("span",{className:"text-xl font-bold tracking-tight",children:["SYNDICATE ",s.jsx("span",{className:"text-primary",children:"admin"})]})}),s.jsx("nav",{className:"flex items-center gap-6",children:[{href:"/admin",label:"Дашборд"},{href:"/admin/materials",label:"Материалы"},{href:"/admin/rss",label:"RSS фиды"},{href:"/admin/taxonomy",label:"Справочники"},{href:"/admin/settings",label:"Настройки"}].map(r=>s.jsx(a.default,{href:r.href,className:(0,i.cn)("text-sm font-medium transition-colors hover:text-primary",e===r.href?"text-foreground":"text-muted-foreground"),children:r.label},r.href))})]}),(0,s.jsxs)(o.z,{variant:"ghost",size:"sm",onClick:t,children:[s.jsx(d.Z,{className:"mr-2 h-4 w-4"}),"Выход"]})]})})}},772:(e,r,t)=>{"use strict";t.d(r,{d:()=>d,z:()=>l});var s=t(326),a=t(7577),n=t(4214),i=t(9360),o=t(7863);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef(({className:e,variant:r,size:t,asChild:a=!1,...i},l)=>{let c=a?n.g7:"button";return s.jsx(c,{className:(0,o.cn)(d({variant:r,size:t,className:e})),ref:l,...i})});l.displayName="Button"},2643:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>o,SZ:()=>l,Zb:()=>i,aY:()=>c,ll:()=>d});var s=t(326),a=t(7577),n=t(7863);let i=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let o=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let d=a.forwardRef(({className:e,...r},t)=>s.jsx("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let l=a.forwardRef(({className:e,...r},t)=>s.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},4432:(e,r,t)=>{"use strict";t.d(r,{I:()=>i});var s=t(326),a=t(7577),n=t(7863);let i=a.forwardRef(({className:e,type:r,...t},a)=>s.jsx("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));i.displayName="Input"},1048:(e,r,t)=>{"use strict";t.d(r,{_:()=>l});var s=t(326),a=t(7577),n=t(9152),i=t(9360),o=t(7863);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef(({className:e,...r},t)=>s.jsx(n.f,{ref:t,className:(0,o.cn)(d(),e),...r}));l.displayName=n.f.displayName},2346:(e,r,t)=>{"use strict";t.d(r,{Toaster:()=>n});var s=t(326),a=t(5999);let n=({...e})=>s.jsx(a.x7,{theme:"system",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},7673:(e,r,t)=>{"use strict";t.d(r,{g:()=>i});var s=t(326),a=t(7577),n=t(7863);let i=a.forwardRef(({className:e,...r},t)=>s.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));i.displayName="Textarea"},7863:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var s=t(1135),a=t(1009);function n(...e){return(0,a.m6)((0,s.W)(e))}},5047:(e,r,t)=>{"use strict";var s=t(7389);t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},596:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n,metadata:()=>a});var s=t(9510);let a={title:"Syndicate Admin - Панель управления",description:"Административная панель для управления RSS-фидами, материалами и настройками сервиса Syndicate."};function n({children:e}){return s.jsx(s.Fragment,{children:e})}},2740:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=t(8570);let a=(0,s.createProxy)(String.raw`/Users/macbookpro/Desktop/syndicateadmin/app/admin/settings/page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,s.createProxy)(String.raw`/Users/macbookpro/Desktop/syndicateadmin/app/admin/settings/page.tsx#default`)},7489:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m,metadata:()=>u});var s=t(9510),a=t(5384),n=t.n(a);t(7272);var i=t(8570);let o=(0,i.createProxy)(String.raw`/Users/macbookpro/Desktop/syndicateadmin/components/ui/sonner.tsx`),{__esModule:d,$$typeof:l}=o;o.default;let c=(0,i.createProxy)(String.raw`/Users/macbookpro/Desktop/syndicateadmin/components/ui/sonner.tsx#Toaster`),u={title:"Syndicate - Материалы из различных источников",description:"Коллекция публикаций и материалов из различных RSS-источников. Удобный просмотр и фильтрация контента."};function m({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:n().className,children:[e,s.jsx(c,{position:"top-right"})]})})}Promise.all([t.e(27),t.e(258),t.e(487),t.e(424)]).then(t.bind(t,7328)).then(({initCronJob:e,runInitialFetch:r})=>{e(),r()})},7272:()=>{},9152:(e,r,t)=>{"use strict";t.d(r,{f:()=>d});var s=t(7577);t(962);var a=t(4214),n=t(326),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=(0,a.Z8)(`Primitive.${r}`),i=s.forwardRef((e,s)=>{let{asChild:a,...i}=e,o=a?t:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(o,{...i,ref:s})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{}),o=s.forwardRef((e,r)=>(0,n.jsx)(i.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));o.displayName="Label";var d=o},6125:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(7926).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,283,896,434],()=>t(5338));module.exports=s})();