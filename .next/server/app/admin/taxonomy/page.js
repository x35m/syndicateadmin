(()=>{var e={};e.id=16,e.ids=[16],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5900:e=>{"use strict";e.exports=require("pg")},9261:e=>{"use strict";e.exports=require("postcss")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},4359:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>o}),t(592),t(596),t(7489),t(5866);var a=t(3191),r=t(8716),n=t(7922),i=t.n(n),l=t(5231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let o=["",{children:["admin",{children:["taxonomy",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,592)),"/Users/macbookpro/Desktop/syndicateadmin/app/admin/taxonomy/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,596)),"/Users/macbookpro/Desktop/syndicateadmin/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,7489)),"/Users/macbookpro/Desktop/syndicateadmin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/macbookpro/Desktop/syndicateadmin/app/admin/taxonomy/page.tsx"],u="/admin/taxonomy/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/taxonomy/page",pathname:"/admin/taxonomy",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3542:(e,s,t)=>{Promise.resolve().then(t.bind(t,8561))},8561:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var a=t(326),r=t(7577),n=t(3796),i=t(772),l=t(2643),c=t(3313),o=t(2288),d=t(97),u=t(4432),m=t(1048),x=t(5304),h=t(5940),p=t(3427),f=t(7673),j=t(5999),y=t(7926);let g=(0,y.Z)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var v=t(2332);let w=(0,y.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),b=(0,y.Z)("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);var N=t(3183);let k={categories:[],themes:[],tags:[],alliances:[],countries:[]},C={categories:{label:"Категории",type:"category"},themes:{label:"Темы",type:"theme"},tags:{label:"Теги",type:"tag"},alliances:{label:"Политические союзы и блоки",type:"alliance"},countries:{label:"Страны",type:"country"},cities:{label:"Города",type:"city"}},z={category:"Промпт категорий",theme:"Промпт тем",tag:"Промпт тегов",alliance:"Промпт политических союзов и блоков",country:"Промпт стран",city:"Промпт городов"};function S(){let[e,s]=(0,r.useState)("categories"),[t,y]=(0,r.useState)(k),[S,P]=(0,r.useState)(!0),[A,R]=(0,r.useState)(null),[M,_]=(0,r.useState)(!1),[Z,q]=(0,r.useState)(null),[E,D]=(0,r.useState)({category:"",theme:"",tag:"",alliance:"",country:"",city:""}),[I,O]=(0,r.useState)(!1),[T,V]=(0,r.useState)(!1),[$,U]=(0,r.useState)({categories:"",themes:"",tags:"",alliances:"",countries:"",cities:""}),[L,F]=(0,r.useState)({categories:new Set,themes:new Set,tags:new Set,alliances:new Set,countries:new Set,cities:new Set}),X=(0,r.useMemo)(()=>t.countries.flatMap(e=>e.cities.map(s=>({...s,countryName:e.name}))),[t.countries]),W=async()=>{try{P(!0);let e=await fetch("/api/taxonomy"),s=await e.json();if(!s.success){j.Am.error(s.error||"Не удалось получить данные таксономии");return}y({categories:s.categories??[],themes:s.themes??[],tags:s.tags??[],alliances:s.alliances??[],countries:s.countries??[]})}catch(e){console.error("Error fetching taxonomy:",e),j.Am.error("Не удалось получить данные таксономии")}finally{P(!1)}},H=(e,s)=>{F(t=>{let a=new Set(t[e]);return a.has(s)?a.delete(s):a.add(s),{...t,[e]:a}})},K=(e,s)=>{F(t=>{let a=new Set(t[e]);return s.every(e=>a.has(e))?s.forEach(e=>a.delete(e)):s.forEach(e=>a.add(e)),{...t,[e]:a}})},Y=e=>{F(s=>({...s,[e]:new Set}))},G=e=>{let s=C[e].type;R({mode:"create",type:s,name:"",countryId:"city"===s?null:void 0})},J=(e,s,t,a)=>{let r=C[e].type;R({mode:"edit",type:r,id:s,name:t,countryId:"city"===r?a??null:void 0})},B=async()=>{if(!A)return;let{mode:e,type:s,name:t,id:a,countryId:r}=A,n=t.trim();if(!n){j.Am.warning("Название не может быть пустым");return}if("city"===s&&!r){j.Am.warning("Выберите страну для города");return}try{if(_(!0),"create"===e){let e=await fetch("/api/taxonomy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:s,name:n,countryId:"city"===s?r:void 0})}),t=await e.json();if(!t.success){j.Am.error(t.error||"Не удалось создать элемент");return}j.Am.success("Элемент создан")}else if(void 0!==a){let e=await fetch("/api/taxonomy",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:s,id:a,name:n,countryId:"city"===s?r:void 0})}),t=await e.json();if(!e.ok||!t.success){j.Am.error(t.error||"Не удалось обновить элемент");return}j.Am.success("Элемент обновлён")}await W(),R(null)}catch(e){console.error("Error saving taxonomy item:",e),j.Am.error("Не удалось сохранить элемент")}finally{_(!1)}},Q=async(e,s)=>{try{let t=await fetch(`/api/taxonomy?type=${e}&id=${s}`,{method:"DELETE"}),a=await t.json();if(!t.ok||!a.success)return j.Am.error(a.error||"Не удалось удалить элемент"),!1;return!0}catch(e){return console.error("Error deleting taxonomy item:",e),j.Am.error("Не удалось удалить элемент"),!1}},ee=async e=>{let s=Array.from(L[e]);if(0===s.length||!window.confirm("countries"===e?"Удалить выбранные страны? Все связанные города будут удалены.":"cities"===e?"Удалить выбранные города?":"Удалить выбранные элементы?"))return;let t=C[e].type;for(let e of s)if(!await Q(t,e))break;await W(),Y(e),j.Am.success("Удаление выполнено")},es=e=>{let s=C[e].type;q({type:s,value:E[s]??""})},et=async()=>{if(!Z)return;let{type:e,value:s}=Z,t=s.trim();if(!t){j.Am.warning("Промпт не может быть пустым");return}try{V(!0);let s=await fetch("/api/taxonomy/prompts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,prompt:t})}),a=await s.json();if(!s.ok||!a.success){j.Am.error(a.error||"Не удалось сохранить промпт");return}D(s=>({...s,[e]:t})),j.Am.success("Промпт обновлён"),q(null)}catch(e){console.error("Error saving taxonomy prompt:",e),j.Am.error("Не удалось сохранить промпт")}finally{V(!1)}},ea=e=>{let s=$[e].toLowerCase(),a=t[e];return s?a.filter(e=>e.name.toLowerCase().includes(s)):a},er=(0,r.useMemo)(()=>{let e=$.countries.toLowerCase();return e?t.countries.filter(s=>s.name.toLowerCase().includes(e)):t.countries},[t.countries,$.countries]),en=(0,r.useMemo)(()=>{let e=$.cities.toLowerCase();return e?X.filter(s=>s.name.toLowerCase().includes(e)||s.countryName.toLowerCase().includes(e)):X},[X,$.cities]),ei=L[e].size,el=e=>{let s=ea(e),t=s.map(e=>e.id),r=L[e],n=C[e].type;return(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx(l.ll,{children:C[e].label}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Используйте таблицу для просмотра, редактирования и массового удаления."})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(u.I,{placeholder:"Поиск...",value:$[e],onChange:s=>U(t=>({...t,[e]:s.target.value})),className:"h-9 w-full sm:w-48"}),(0,a.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>es(e),disabled:I,children:[a.jsx(g,{className:"mr-2 h-4 w-4"}),"Системный промпт"]})]}),(0,a.jsxs)(i.z,{size:"sm",onClick:()=>G(e),children:[a.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"Добавить"]})]})]}),a.jsx(l.aY,{children:S?a.jsx("div",{className:"space-y-2",children:Array.from({length:6}).map((e,s)=>a.jsx(x.O,{className:"h-10 w-full"},s))}):0===s.length?a.jsx("div",{className:"py-10 text-center text-sm text-muted-foreground",children:"Элементы не найдены."}):(0,a.jsxs)(h.iA,{children:[a.jsx(h.xD,{children:(0,a.jsxs)(h.SC,{children:[a.jsx(h.ss,{className:"w-12",children:a.jsx(c.X,{checked:s.length>0&&t.every(e=>r.has(e)),onCheckedChange:()=>K(e,t)})}),a.jsx(h.ss,{children:"Название"}),a.jsx(h.ss,{className:"w-16 text-right",children:"Действия"})]})}),a.jsx(h.RM,{children:s.map(s=>(0,a.jsxs)(h.SC,{children:[a.jsx(h.pj,{children:a.jsx(c.X,{checked:r.has(s.id),onCheckedChange:()=>H(e,s.id)})}),a.jsx(h.pj,{className:"font-medium",children:s.name}),a.jsx(h.pj,{className:"text-right",children:(0,a.jsxs)(d.h_,{children:[a.jsx(d.$F,{asChild:!0,children:a.jsx(i.z,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(w,{className:"h-4 w-4"})})}),(0,a.jsxs)(d.AW,{align:"end",children:[(0,a.jsxs)(d.Xi,{onClick:()=>J(e,s.id,s.name),children:[a.jsx(b,{className:"mr-2 h-4 w-4"}),"Редактировать"]}),(0,a.jsxs)(d.Xi,{onClick:async()=>{window.confirm("Удалить элемент?")&&await Q(n,s.id)&&(j.Am.success("Элемент удалён"),await W())},className:"text-destructive focus:text-destructive",children:[a.jsx(N.Z,{className:"mr-2 h-4 w-4"}),"Удалить"]})]})]})})]},s.id))})]})})]})};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(n.P,{}),a.jsx("div",{className:"min-h-screen bg-background p-8",children:(0,a.jsxs)("div",{className:"container space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Справочники"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Управляйте таксономиями материалов, настраивайте системные промпты для нейросети и выполняйте массовые операции над элементами."})]}),(0,a.jsxs)(p.mQ,{value:e,onValueChange:e=>s(e),children:[a.jsx(p.dr,{className:"flex-wrap",children:Object.keys(C).map(e=>a.jsx(p.SP,{value:e,children:C[e].label},e))}),a.jsx(p.nU,{value:"categories",children:el("categories")}),a.jsx(p.nU,{value:"themes",children:el("themes")}),a.jsx(p.nU,{value:"tags",children:el("tags")}),a.jsx(p.nU,{value:"alliances",children:el("alliances")}),a.jsx(p.nU,{value:"countries",children:(()=>{let e="countries",s=L[e],t=er.map(e=>e.id);return(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx(l.ll,{children:"Страны"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Управляйте списком стран и связанных городов."})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(u.I,{placeholder:"Поиск страны...",value:$.countries,onChange:e=>U(s=>({...s,countries:e.target.value})),className:"h-9 w-full sm:w-56"}),(0,a.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>es("countries"),disabled:I,children:[a.jsx(g,{className:"mr-2 h-4 w-4"}),"Системный промпт"]})]}),(0,a.jsxs)(i.z,{size:"sm",onClick:()=>G("countries"),children:[a.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"Добавить страну"]})]})]}),a.jsx(l.aY,{children:S?a.jsx("div",{className:"space-y-2",children:Array.from({length:6}).map((e,s)=>a.jsx(x.O,{className:"h-10 w-full"},s))}):0===er.length?a.jsx("div",{className:"py-10 text-center text-sm text-muted-foreground",children:"Страны не найдены."}):(0,a.jsxs)(h.iA,{children:[a.jsx(h.xD,{children:(0,a.jsxs)(h.SC,{children:[a.jsx(h.ss,{className:"w-12",children:a.jsx(c.X,{checked:er.length>0&&t.every(e=>s.has(e)),onCheckedChange:()=>K(e,t)})}),a.jsx(h.ss,{children:"Название"}),a.jsx(h.ss,{className:"w-24 text-right",children:"Городов"}),a.jsx(h.ss,{className:"w-16 text-right",children:"Действия"})]})}),a.jsx(h.RM,{children:er.map(t=>(0,a.jsxs)(h.SC,{children:[a.jsx(h.pj,{children:a.jsx(c.X,{checked:s.has(t.id),onCheckedChange:()=>H(e,t.id)})}),a.jsx(h.pj,{className:"font-medium",children:t.name}),a.jsx(h.pj,{className:"text-right",children:t.cities.length}),a.jsx(h.pj,{className:"text-right",children:(0,a.jsxs)(d.h_,{children:[a.jsx(d.$F,{asChild:!0,children:a.jsx(i.z,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(w,{className:"h-4 w-4"})})}),(0,a.jsxs)(d.AW,{align:"end",children:[(0,a.jsxs)(d.Xi,{onClick:()=>J("countries",t.id,t.name),children:[a.jsx(b,{className:"mr-2 h-4 w-4"}),"Редактировать"]}),(0,a.jsxs)(d.Xi,{onClick:async()=>{window.confirm("Удалить страну и все связанные города?")&&await Q("country",t.id)&&(j.Am.success("Страна удалена"),await W())},className:"text-destructive focus:text-destructive",children:[a.jsx(N.Z,{className:"mr-2 h-4 w-4"}),"Удалить"]})]})]})})]},t.id))})]})})]})})()}),a.jsx(p.nU,{value:"cities",children:(()=>{let e="cities",s=L[e],t=en.map(e=>e.id);return(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx(l.ll,{children:"Города"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Управляйте списком городов и их принадлежностью к странам."})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(u.I,{placeholder:"Поиск города или страны...",value:$.cities,onChange:e=>U(s=>({...s,cities:e.target.value})),className:"h-9 w-full sm:w-64"}),(0,a.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>es("cities"),disabled:I,children:[a.jsx(g,{className:"mr-2 h-4 w-4"}),"Системный промпт"]})]}),(0,a.jsxs)(i.z,{size:"sm",onClick:()=>G("cities"),children:[a.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"Добавить город"]})]})]}),a.jsx(l.aY,{children:S?a.jsx("div",{className:"space-y-2",children:Array.from({length:6}).map((e,s)=>a.jsx(x.O,{className:"h-10 w-full"},s))}):0===en.length?a.jsx("div",{className:"py-10 text-center text-sm text-muted-foreground",children:"Города не найдены."}):(0,a.jsxs)(h.iA,{children:[a.jsx(h.xD,{children:(0,a.jsxs)(h.SC,{children:[a.jsx(h.ss,{className:"w-12",children:a.jsx(c.X,{checked:en.length>0&&t.every(e=>s.has(e)),onCheckedChange:()=>K(e,t)})}),a.jsx(h.ss,{children:"Город"}),a.jsx(h.ss,{children:"Страна"}),a.jsx(h.ss,{className:"w-16 text-right",children:"Действия"})]})}),a.jsx(h.RM,{children:en.map(t=>(0,a.jsxs)(h.SC,{children:[a.jsx(h.pj,{children:a.jsx(c.X,{checked:s.has(t.id),onCheckedChange:()=>H(e,t.id)})}),a.jsx(h.pj,{className:"font-medium",children:t.name}),a.jsx(h.pj,{children:t.countryName}),a.jsx(h.pj,{className:"text-right",children:(0,a.jsxs)(d.h_,{children:[a.jsx(d.$F,{asChild:!0,children:a.jsx(i.z,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(w,{className:"h-4 w-4"})})}),(0,a.jsxs)(d.AW,{align:"end",children:[(0,a.jsxs)(d.Xi,{onClick:()=>J("cities",t.id,t.name,t.countryId),children:[a.jsx(b,{className:"mr-2 h-4 w-4"}),"Редактировать"]}),(0,a.jsxs)(d.Xi,{onClick:async()=>{window.confirm("Удалить город?")&&await Q("city",t.id)&&(j.Am.success("Город удалён"),await W())},className:"text-destructive focus:text-destructive",children:[a.jsx(N.Z,{className:"mr-2 h-4 w-4"}),"Удалить"]})]})]})})]},t.id))})]})})]})})()})]})]})}),a.jsx(o.Vq,{open:null!==A,onOpenChange:e=>!e&&R(null),children:(0,a.jsxs)(o.cZ,{className:"sm:max-w-lg",children:[(0,a.jsxs)(o.fK,{children:[a.jsx(o.$N,{children:A?.mode==="create"?"Создать элемент":"Редактировать элемент"}),a.jsx(o.Be,{children:A?`Тип: ${C[Object.keys(C).find(e=>C[e].type===A.type)??"categories"].label}`:""})]}),A&&(0,a.jsxs)("div",{className:"space-y-4 py-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(m._,{htmlFor:"taxonomy-name",children:"Название"}),a.jsx(u.I,{id:"taxonomy-name",value:A.name,onChange:e=>R(s=>s?{...s,name:e.target.value}:s),autoFocus:!0})]}),"city"===A.type&&(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(m._,{htmlFor:"taxonomy-country",children:"Страна"}),(0,a.jsxs)("select",{id:"taxonomy-country",className:"w-full rounded-md border bg-background px-3 py-2 text-sm",value:A.countryId??"",onChange:e=>R(s=>s?{...s,countryId:e.target.value?Number(e.target.value):null}:s),children:[a.jsx("option",{value:"",children:"Выберите страну"}),t.countries.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,a.jsxs)(o.cN,{children:[a.jsx(i.z,{variant:"outline",onClick:()=>R(null),disabled:M,children:"Отмена"}),a.jsx(i.z,{onClick:B,disabled:M,children:M?"Сохранение...":"Сохранить"})]})]})}),a.jsx(o.Vq,{open:null!==Z,onOpenChange:e=>!e&&q(null),children:(0,a.jsxs)(o.cZ,{className:"sm:max-w-xl",children:[(0,a.jsxs)(o.fK,{children:[a.jsx(o.$N,{children:Z?z[Z.type]:"Системный промпт"}),a.jsx(o.Be,{children:"Опишите правила для нейросети при назначении значений этого справочника."})]}),Z&&a.jsx(f.g,{rows:8,value:Z.value,onChange:e=>q(s=>s?{...s,value:e.target.value}:s),className:"resize-none"}),(0,a.jsxs)(o.cN,{children:[a.jsx(i.z,{variant:"outline",onClick:()=>q(null),disabled:T,children:"Отмена"}),a.jsx(i.z,{onClick:et,disabled:T,children:T?"Сохранение...":"Сохранить"})]})]})}),ei>0&&a.jsx("div",{className:"fixed bottom-6 left-1/2 z-40 -translate-x-1/2",children:a.jsx(l.Zb,{className:"border-primary shadow-xl",children:(0,a.jsxs)(l.aY,{className:"flex items-center gap-4 py-3 px-6",children:[(0,a.jsxs)("span",{className:"text-sm",children:["Выбрано:"," ",a.jsx("span",{className:"font-semibold text-primary",children:ei})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(i.z,{variant:"destructive",size:"sm",onClick:()=>ee(e),children:[a.jsx(N.Z,{className:"mr-2 h-4 w-4"}),"Удалить"]}),a.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>Y(e),children:"Сбросить"})]})]})})})]})}},97:(e,s,t)=>{"use strict";t.d(s,{$F:()=>d,AW:()=>u,Ju:()=>h,VD:()=>p,Xi:()=>m,bO:()=>x,h_:()=>o});var a=t(326),r=t(7577),n=t(5432),i=t(6562),l=t(799),c=t(7863);let o=n.fC,d=n.xz;n.ZA,n.Uv,n.Tr,n.Ee,r.forwardRef(({className:e,inset:s,children:t,...r},l)=>(0,a.jsxs)(n.fF,{ref:l,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...r,children:[t,a.jsx(i.Z,{className:"ml-auto h-4 w-4"})]})).displayName=n.fF.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(n.tu,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})).displayName=n.tu.displayName;let u=r.forwardRef(({className:e,sideOffset:s=4,...t},r)=>a.jsx(n.Uv,{children:a.jsx(n.VY,{ref:r,sideOffset:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));u.displayName=n.VY.displayName;let m=r.forwardRef(({className:e,inset:s,...t},r)=>a.jsx(n.ck,{ref:r,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...t}));m.displayName=n.ck.displayName;let x=r.forwardRef(({className:e,children:s,checked:t,...r},i)=>(0,a.jsxs)(n.oC,{ref:i,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(n.wU,{children:a.jsx(l.Z,{className:"h-4 w-4"})})}),s]}));x.displayName=n.oC.displayName,r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(n.Rk,{ref:r,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(n.wU,{children:a.jsx("span",{className:"h-2 w-2 rounded-full bg-current"})})}),s]})).displayName=n.Rk.displayName;let h=r.forwardRef(({className:e,inset:s,...t},r)=>a.jsx(n.__,{ref:r,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...t}));h.displayName=n.__.displayName;let p=r.forwardRef(({className:e,...s},t)=>a.jsx(n.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...s}));p.displayName=n.Z0.displayName},3427:(e,s,t)=>{"use strict";t.d(s,{mQ:()=>A,nU:()=>_,dr:()=>R,SP:()=>M});var a=t(326),r=t(7577),n=t(2561),i=t(3095),l=t(5594),c=t(9815),o=t(7335),d=t(7124),u=t(2067),m=t(8957),x="Tabs",[h,p]=(0,i.b)(x,[l.Pc]),f=(0,l.Pc)(),[j,y]=h(x),g=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,onValueChange:n,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:h="automatic",...p}=e,f=(0,d.gm)(c),[y,g]=(0,u.T)({prop:r,onChange:n,defaultProp:i??"",caller:x});return(0,a.jsx)(j,{scope:t,baseId:(0,m.M)(),value:y,onValueChange:g,orientation:l,dir:f,activationMode:h,children:(0,a.jsx)(o.WV.div,{dir:f,"data-orientation":l,...p,ref:s})})});g.displayName=x;var v="TabsList",w=r.forwardRef((e,s)=>{let{__scopeTabs:t,loop:r=!0,...n}=e,i=y(v,t),c=f(t);return(0,a.jsx)(l.fC,{asChild:!0,...c,orientation:i.orientation,dir:i.dir,loop:r,children:(0,a.jsx)(o.WV.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:s})})});w.displayName=v;var b="TabsTrigger",N=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,disabled:i=!1,...c}=e,d=y(b,t),u=f(t),m=z(d.baseId,r),x=S(d.baseId,r),h=r===d.value;return(0,a.jsx)(l.ck,{asChild:!0,...u,focusable:!i,active:h,children:(0,a.jsx)(o.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...c,ref:s,onMouseDown:(0,n.Mj)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(r)}),onKeyDown:(0,n.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(r)}),onFocus:(0,n.Mj)(e.onFocus,()=>{let e="manual"!==d.activationMode;h||i||!e||d.onValueChange(r)})})})});N.displayName=b;var k="TabsContent",C=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:n,forceMount:i,children:l,...d}=e,u=y(k,t),m=z(u.baseId,n),x=S(u.baseId,n),h=n===u.value,p=r.useRef(h);return r.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(c.z,{present:i||h,children:({present:t})=>(0,a.jsx)(o.WV.div,{"data-state":h?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!t,id:x,tabIndex:0,...d,ref:s,style:{...e.style,animationDuration:p.current?"0s":void 0},children:t&&l})})});function z(e,s){return`${e}-trigger-${s}`}function S(e,s){return`${e}-content-${s}`}C.displayName=k;var P=t(7863);let A=g,R=r.forwardRef(({className:e,...s},t)=>a.jsx(w,{ref:t,className:(0,P.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));R.displayName=w.displayName;let M=r.forwardRef(({className:e,...s},t)=>a.jsx(N,{ref:t,className:(0,P.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));M.displayName=N.displayName;let _=r.forwardRef(({className:e,...s},t)=>a.jsx(C,{ref:t,className:(0,P.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));_.displayName=C.displayName},7673:(e,s,t)=>{"use strict";t.d(s,{g:()=>i});var a=t(326),r=t(7577),n=t(7863);let i=r.forwardRef(({className:e,...s},t)=>a.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));i.displayName="Textarea"},5047:(e,s,t)=>{"use strict";var a=t(7389);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},592:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var a=t(8570);let r=(0,a.createProxy)(String.raw`/Users/macbookpro/Desktop/syndicateadmin/app/admin/taxonomy/page.tsx`),{__esModule:n,$$typeof:i}=r;r.default;let l=(0,a.createProxy)(String.raw`/Users/macbookpro/Desktop/syndicateadmin/app/admin/taxonomy/page.tsx#default`)},6796:(e,s,t)=>{"use strict";t.d(s,{z$:()=>b,fC:()=>v});var a=t(7577),r=t(8051),n=t(3095),i=t(2561),l=t(2067),c=t(2566),o=t(9815),d=t(7335),u=t(326),m="Checkbox",[x,h]=(0,n.b)(m),[p,f]=x(m);function j(e){let{__scopeCheckbox:s,checked:t,children:r,defaultChecked:n,disabled:i,form:c,name:o,onCheckedChange:d,required:x,value:h="on",internal_do_not_use_render:f}=e,[j,y]=(0,l.T)({prop:t,defaultProp:n??!1,onChange:d,caller:m}),[g,v]=a.useState(null),[w,b]=a.useState(null),N=a.useRef(!1),k=!g||!!c||!!g.closest("form"),z={checked:j,disabled:i,setChecked:y,control:g,setControl:v,name:o,form:c,value:h,hasConsumerStoppedPropagationRef:N,required:x,defaultChecked:!C(n)&&n,isFormControl:k,bubbleInput:w,setBubbleInput:b};return(0,u.jsx)(p,{scope:s,...z,children:"function"==typeof f?f(z):r})}var y="CheckboxTrigger",g=a.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:t,...n},l)=>{let{control:c,value:o,disabled:m,checked:x,required:h,setControl:p,setChecked:j,hasConsumerStoppedPropagationRef:g,isFormControl:v,bubbleInput:w}=f(y,e),b=(0,r.e)(l,p),N=a.useRef(x);return a.useEffect(()=>{let e=c?.form;if(e){let s=()=>j(N.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[c,j]),(0,u.jsx)(d.WV.button,{type:"button",role:"checkbox","aria-checked":C(x)?"mixed":x,"aria-required":h,"data-state":z(x),"data-disabled":m?"":void 0,disabled:m,value:o,...n,ref:b,onKeyDown:(0,i.Mj)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.Mj)(t,e=>{j(e=>!!C(e)||!e),w&&v&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})});g.displayName=y;var v=a.forwardRef((e,s)=>{let{__scopeCheckbox:t,name:a,checked:r,defaultChecked:n,required:i,disabled:l,value:c,onCheckedChange:o,form:d,...m}=e;return(0,u.jsx)(j,{__scopeCheckbox:t,checked:r,defaultChecked:n,disabled:l,required:i,onCheckedChange:o,name:a,form:d,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(g,{...m,ref:s,__scopeCheckbox:t}),e&&(0,u.jsx)(k,{__scopeCheckbox:t})]})})});v.displayName=m;var w="CheckboxIndicator",b=a.forwardRef((e,s)=>{let{__scopeCheckbox:t,forceMount:a,...r}=e,n=f(w,t);return(0,u.jsx)(o.z,{present:a||C(n.checked)||!0===n.checked,children:(0,u.jsx)(d.WV.span,{"data-state":z(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:s,style:{pointerEvents:"none",...e.style}})})});b.displayName=w;var N="CheckboxBubbleInput",k=a.forwardRef(({__scopeCheckbox:e,...s},t)=>{let{control:n,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:o,required:m,disabled:x,name:h,value:p,form:j,bubbleInput:y,setBubbleInput:g}=f(N,e),v=(0,r.e)(t,g),w=function(e){let s=a.useRef({value:e,previous:e});return a.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}(l),b=(0,c.t)(n);a.useEffect(()=>{if(!y)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,s=!i.current;if(w!==l&&e){let t=new Event("click",{bubbles:s});y.indeterminate=C(l),e.call(y,!C(l)&&l),y.dispatchEvent(t)}},[y,w,l,i]);let k=a.useRef(!C(l)&&l);return(0,u.jsx)(d.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??k.current,required:m,disabled:x,name:h,value:p,form:j,...s,tabIndex:-1,ref:v,style:{...s.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function C(e){return"indeterminate"===e}function z(e){return C(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=N},9152:(e,s,t)=>{"use strict";t.d(s,{f:()=>c});var a=t(7577);t(962);var r=t(4214),n=t(326),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let t=(0,r.Z8)(`Primitive.${s}`),i=a.forwardRef((e,a)=>{let{asChild:r,...i}=e,l=r?t:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...i,ref:a})});return i.displayName=`Primitive.${s}`,{...e,[s]:i}},{}),l=a.forwardRef((e,s)=>(0,n.jsx)(i.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var c=l},6125:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},2332:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3183:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[948,283,896,434,746,432,627],()=>t(4359));module.exports=a})();