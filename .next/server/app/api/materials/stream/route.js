"use strict";(()=>{var e={};e.id=849,e.ids=[849],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4452:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>m,patchFetch:()=>y,requestAsyncStorage:()=>u,routeModule:()=>d,serverHooks:()=>p,staticGenerationAsyncStorage:()=>l});var n={};a.r(n),a.d(n,{GET:()=>c});var r=a(9303),o=a(8716),s=a(670),i=a(825);async function c(e){let{searchParams:t}=new URL(e.url);return t.get("status"),new Response(new ReadableStream({start(t){(0,i.HE)(t);let a=`data: ${JSON.stringify({type:"connected"})}

`;t.enqueue(new TextEncoder().encode(a));let n=setInterval(()=>{try{let e=`data: ${JSON.stringify({type:"ping"})}

`;t.enqueue(new TextEncoder().encode(e))}catch(e){clearInterval(n),(0,i.xI)(t)}},3e4);e.signal.addEventListener("abort",()=>{clearInterval(n),(0,i.xI)(t);try{t.close()}catch(e){}})}}),{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive","X-Accel-Buffering":"no"}})}let d=new r.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/materials/stream/route",pathname:"/api/materials/stream",filename:"route",bundlePath:"app/api/materials/stream/route"},resolvedPagePath:"/Users/macbookpro/Desktop/syndicateadmin/app/api/materials/stream/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:u,staticGenerationAsyncStorage:l,serverHooks:p}=d,m="/api/materials/stream/route";function y(){return(0,s.patchFetch)({serverHooks:p,staticGenerationAsyncStorage:l})}},825:(e,t,a)=>{a.d(t,{Bk:()=>s,HE:()=>r,WL:()=>i,t6:()=>c,xI:()=>o});let n=new Set;function r(e){n.add(e)}function o(e){n.delete(e)}function s(e){let t=`data: ${JSON.stringify({type:"new-material",data:e})}

`,a=new TextEncoder().encode(t);n.forEach(e=>{try{e.enqueue(a)}catch(t){n.delete(e)}})}function i(e){let t=`data: ${JSON.stringify({type:"sync-progress",data:e})}

`,a=new TextEncoder().encode(t);n.forEach(e=>{try{e.enqueue(a)}catch(t){n.delete(e)}})}function c(e){let t=`data: ${JSON.stringify({type:"sync-complete",data:e})}

`,a=new TextEncoder().encode(t);n.forEach(e=>{try{e.enqueue(a)}catch(t){n.delete(e)}})}},9303:(e,t,a)=>{e.exports=a(517)}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),n=t.X(0,[948],()=>a(4452));module.exports=n})();