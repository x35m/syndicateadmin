"use strict";(()=>{var e={};e.id=90,e.ids=[90],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5900:e=>{e.exports=require("pg")},4234:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>y,patchFetch:()=>g,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>x,staticGenerationAsyncStorage:()=>l});var a={};t.r(a),t.d(a,{POST:()=>d,dynamic:()=>p});var o=t(9303),s=t(8716),n=t(670),i=t(7070),u=t(9487);let p="force-dynamic";async function d(e){try{let{materialId:r,categoryIds:t,countryIds:a,cityIds:o}=await e.json();if(!r)return i.NextResponse.json({success:!1,error:"Не указан материал"},{status:400});let s=(e,r)=>{if(Array.isArray(e))return e.map(e=>{let t=Number(e);if(Number.isNaN(t))throw Error(`Некорректный идентификатор в списке ${r}`);return t})},n={categoryIds:s(t,"категорий"),countryIds:s(a,"стран"),cityIds:s(o,"городов")};await u.db.updateMaterialTaxonomy(r,n);let p=await u.db.getMaterialById(r);return i.NextResponse.json({success:!0,data:p})}catch(r){console.error("Error updating material taxonomy:",r);let e=r instanceof Error?r.message:"Не удалось обновить таксономию материала";return i.NextResponse.json({success:!1,error:e},{status:400})}}let c=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/materials/taxonomy/route",pathname:"/api/materials/taxonomy",filename:"route",bundlePath:"app/api/materials/taxonomy/route"},resolvedPagePath:"/Users/macbookpro/Desktop/syndicateadmin/app/api/materials/taxonomy/route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:l,serverHooks:x}=c,y="/api/materials/taxonomy/route";function g(){return(0,n.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:l})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[948,972,487],()=>t(4234));module.exports=a})();