(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[227],{1377:function(e,s,a){Promise.resolve().then(a.bind(a,1470))},1470:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return _}});var t=a(7437),l=a(2265),r=a(495),n=a(6013),i=a(6975),c=a(4693),d=a(837),o=a(6780),m=a(5273),u=a(6466),x=a(2738),h=a(3102),p=a(3146),f=a(7135),g=a(4602),j=a(2083),v=a(4166),y=a(2675),N=a(3925),w=a(7785),b=a(1172),C=a(9346),S=a(664),k=a(1154),z=a(870),I=a(2790),A=a(6219),E=a(7776),O=a(6910);let Z={search:"",categories:[],countries:[],cities:[],feeds:[]};function T(e){let{label:s,options:a,selected:n,onChange:i,disabled:d,fullWidth:o}=e,[m,u]=(0,l.useState)(""),x=e=>{n.includes(e)?i(n.filter(s=>s!==e)):i([...n,e])},p=(0,l.useMemo)(()=>{let e=m.trim().toLowerCase();return e?a.filter(s=>s.label.toLowerCase().includes(e)):a},[a,m]);return(0,t.jsxs)(O.h_,{onOpenChange:e=>!e&&u(""),children:[(0,t.jsx)(O.$F,{asChild:!0,disabled:d,children:(0,t.jsxs)(r.z,{variant:"outline",size:"sm",className:"".concat(o?"w-full":"min-w-[180px]"," justify-between"),children:[(0,t.jsxs)("span",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("span",{children:s}),n.length>0&&(0,t.jsx)(c.C,{variant:"secondary",className:"px-1 text-xs font-medium",children:n.length})]}),(0,t.jsx)(g.Z,{className:"h-3 w-3 text-muted-foreground"})]})}),(0,t.jsxs)(O.AW,{align:"start",className:"".concat(o?"w-80":"w-64"," max-h-64 overflow-y-auto"),children:[(0,t.jsx)(O.Ju,{children:s}),(0,t.jsx)(O.VD,{}),(0,t.jsx)("div",{className:"p-1",children:(0,t.jsx)(h.I,{placeholder:"Поиск...",value:m,onChange:e=>u(e.target.value),className:"h-8"})}),(0,t.jsx)(O.VD,{}),0===p.length?(0,t.jsx)("div",{className:"px-2 py-1.5 text-xs text-muted-foreground",children:"Ничего не найдено"}):p.map(e=>(0,t.jsx)(O.bO,{checked:n.includes(e.value),onCheckedChange:()=>x(e.value),children:e.label},String(e.value)))]})]})}function _(){let[e,s]=(0,l.useState)([]),[a,g]=(0,l.useState)(!0),[O,_]=(0,l.useState)("all"),[P,D]=(0,l.useState)(null),[M,R]=(0,l.useState)(!1),[L,V]=(0,l.useState)(!1),[F,J]=(0,l.useState)(new Set),[Y,$]=(0,l.useState)(null),[H,W]=(0,l.useState)(!1),[U,X]=(0,l.useState)(new Set),[B,q]=(0,l.useState)({total:0,new:0,processed:0,published:0,archived:0}),[K,Q]=(0,l.useState)(1),[G,ee]=(0,l.useState)(50),[es,ea]=(0,l.useState)(1),[et,el]=(0,l.useState)(0),[er,en]=(0,l.useState)(new Set),[ei,ec]=(0,l.useState)({categories:[],countries:[]}),[ed,eo]=(0,l.useState)(!1),[em,eu]=(0,l.useState)(Z),[ex,eh]=(0,l.useState)(!1),[ep,ef]=(0,l.useState)(!1),[eg,ej]=(0,l.useState)(null),[ev,ey]=(0,l.useState)({category:"",country:"",city:""}),[eN,ew]=(0,l.useState)({categoryIds:[],countryIds:[],cityIds:[]}),[eb,eC]=(0,l.useState)(""),[eS,ek]=(0,l.useState)(""),[ez,eI]=(0,l.useState)(!1),eA=(0,l.useMemo)(()=>{let s=new Set;return e.forEach(e=>{let a=e.feedName||e.source;a&&s.add(a)}),Array.from(s).sort((e,s)=>e.localeCompare(s,"ru"))},[e]),eE=(0,l.useMemo)(()=>{let e=[];return ei.countries.forEach(s=>{s.cities.forEach(a=>{e.push({value:a.id,label:"".concat(a.name," — ").concat(s.name)})})}),e.sort((e,s)=>e.label.localeCompare(s.label,"ru"))},[ei.countries]),eO=(0,l.useMemo)(()=>{var e,s;return!!P&&(eb!==(null!==(e=P.summary)&&void 0!==e?e:"")||eS!==(null!==(s=P.metaDescription)&&void 0!==s?s:""))},[P,eb,eS]),eZ=(0,l.useMemo)(()=>em.search.trim().length>0||em.categories.length>0||em.countries.length>0||em.cities.length>0||em.feeds.length>0,[em]),eT=(0,l.useCallback)(async function(){var e;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null!==(e=l.silent)&&void 0!==e&&e;r||g(!0);try{let e=new URLSearchParams;e.set("status",a),e.set("page",t.toString()),e.set("pageSize",G.toString()),em.search&&e.set("search",em.search),em.categories.length>0&&e.set("categoryIds",em.categories.join(",")),em.countries.length>0&&e.set("countryIds",em.countries.join(",")),em.cities.length>0&&e.set("cityIds",em.cities.join(",")),em.feeds.length>0&&e.set("feedNames",em.feeds.join(","));let l=await fetch("/api/materials?".concat(e.toString())),r=await l.json();r.success&&(s(r.data),r.pagination&&(ea(r.pagination.totalPages),el(r.pagination.total),Q(r.pagination.page)),q(r.stats||{total:0,new:0,processed:0,published:0,archived:0}))}catch(e){console.error("Error fetching materials:",e)}finally{r||g(!1)}},[em,G,K]),e_=(0,l.useCallback)(async(e,s)=>{let a=await fetch("/api/materials",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,...s})}),t=await a.json();if(!a.ok||!t.success)throw Error(t.error||"Не удалось обновить материал")},[]),eP=(e,s,a)=>"archived"===a?"archived":s?"published":e?"processed":"new",eD=async(e,s)=>{X(s=>{let a=new Set(s);return a.add(e.id),a});let a=eP(e.processed,s,e.status),t={published:s};e.status!==a&&(t.status=a);try{await e_(e.id,t),E.Am.success(s?"Материал опубликован":"Публикация снята"),D(a=>{var l;return a&&a.id===e.id?{...a,published:s,status:null!==(l=t.status)&&void 0!==l?l:a.status}:a}),await eT(O,K,{silent:!0})}catch(e){console.error("Error updating publication status:",e),E.Am.error("Не удалось обновить статус публикации")}finally{X(s=>{let a=new Set(s);return a.delete(e.id),a})}};(0,l.useEffect)(()=>{Q(1),J(new Set)},[em,O]),(0,l.useEffect)(()=>{M||V(!1)},[M]),(0,l.useEffect)(()=>{eT(O,K)},[eT,O,K]),(0,l.useEffect)(()=>{let e=new EventSource("/api/materials/stream?status=".concat(O));return e.onmessage=e=>{try{let l=JSON.parse(e.data);if("new-material"===l.type){let e=l.data,r=!0;if(em.categories.length>0){var a,t;let s=null!==(t=null===(a=e.categories)||void 0===a?void 0:a.map(e=>e.id))&&void 0!==t?t:[];em.categories.some(e=>s.includes(e))||(r=!1)}if(r&&em.countries.length>0){let s=Array.isArray(e.countries)?e.countries.map(e=>e.id):[];em.countries.some(e=>s.includes(e))||(r=!1)}if(r&&em.cities.length>0){let s=Array.isArray(e.cities)?e.cities.map(e=>e.id):[];em.cities.some(e=>s.includes(e))||(r=!1)}if(r&&em.feeds.length>0){let s=e.feedName||e.source||"";em.feeds.includes(s)||(r=!1)}if(r&&em.search.trim()){let s=em.search.trim().toLowerCase();[e.title,e.summary,e.content,e.feedName,e.source].filter(Boolean).join(" ").toLowerCase().includes(s)||(r=!1)}r&&"all"!==O&&(("processed"!==O||e.processed)&&("published"!==O||e.published)?"archived"===O&&"archived"!==e.status?r=!1:"new"===O&&(e.processed||"archived"===e.status)?r=!1:["processed","published","archived","new"].includes(O)||e.status===O||(r=!1):r=!1),r&&(1===K?(s(s=>[e,...s].slice(0,G)),el(e=>e+1)):eT(O,K))}else"sync-complete"===l.type&&eT(O,K)}catch(e){console.error("Error parsing SSE message:",e)}},e.onerror=s=>{console.error("SSE connection error:",s),setTimeout(()=>{e.close()},5e3)},()=>{e.close()}},[O,em,K,G,eT]);let eM=async()=>{try{eo(!0);let a=await fetch("/api/taxonomy"),t=await a.json();if(t.success){var e,s;ec({categories:null!==(e=t.categories)&&void 0!==e?e:[],countries:null!==(s=t.countries)&&void 0!==s?s:[]})}else E.Am.error(t.error||"Не удалось загрузить таксономию")}catch(e){console.error("Error fetching taxonomy:",e),E.Am.error("Не удалось загрузить таксономию")}finally{eo(!1)}},eR=e=>{if(0===F.size){E.Am.warning("Выберите материалы для обработки");return}$(e)},eL=async()=>{if(!Y)return;let s=Array.from(F);W(!0);try{if("generate-summary"===Y){let e=0,a=0,t="";for(let l of s){en(e=>new Set(e).add(l));try{let s=await fetch("/api/materials/generate-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({materialId:l})}),r=await s.json();r.success?e++:(a++,t||(t=r.error),console.error("Failed to generate summary for ".concat(l,":"),r.error))}catch(e){a++,t||(t=e instanceof Error?e.message:"Неизвестная ошибка"),console.error("Error generating summary for ".concat(l,":"),e)}finally{en(e=>{let s=new Set(e);return s.delete(l),s})}}await eT(O),await eM(),J(new Set),0===a?E.Am.success("Саммари успешно сгенерировано для ".concat(e," материал(ов)")):0===e?E.Am.error("Ошибка: ".concat(t)):E.Am.warning("Успешно: ".concat(e,", Ошибки: ").concat(a,". ").concat(t))}else{if("delete"===Y)for(let e of s)await fetch("/api/materials?id=".concat(e),{method:"DELETE"});else if("published"===Y){let l=new Map(e.map(e=>[e.id,e]));for(let e of s){var a,t;let s=l.get(e),r=eP(null!==(a=null==s?void 0:s.processed)&&void 0!==a&&a,!0,null!==(t=null==s?void 0:s.status)&&void 0!==t?t:"new");await e_(e,{published:!0,status:r})}}else if("archived"===Y)for(let e of s)await e_(e,{status:"archived",published:!1});await eT(O,K),J(new Set),E.Am.success("Успешно ".concat({published:"опубликовано",archived:"архивировано",delete:"удалено"}[Y]," ").concat(s.length," материал(ов)"))}}catch(e){console.error("Error performing bulk action:",e),E.Am.error("Ошибка при выполнении действия")}finally{W(!1),$(null)}},eV=async e=>{_(e),eu(Z),await eT(e),J(new Set),Q(1)},eF=e=>{var s,a,t,l,r,n,i,c;D(e),ew({categoryIds:null!==(l=null===(s=e.categories)||void 0===s?void 0:s.map(e=>e.id))&&void 0!==l?l:[],countryIds:null!==(r=null===(a=e.countries)||void 0===a?void 0:a.map(e=>e.id))&&void 0!==r?r:[],cityIds:null!==(n=null===(t=e.cities)||void 0===t?void 0:t.map(e=>e.id))&&void 0!==n?n:[]}),eC(null!==(i=e.summary)&&void 0!==i?i:""),ek(null!==(c=e.metaDescription)&&void 0!==c?c:""),V(!1),R(!0)},eJ=(K-1)*G,eY=eJ+e.length,e$=e=>{Q(Math.max(1,Math.min(e,es)))},eH=e=>{ee(e),Q(1)},eW=e=>{let s=new Set(F);s.has(e)?s.delete(e):s.add(e),J(s)},eU=(e,s)=>{ew(a=>{let t=new Set(a[e]);return t.delete(s),{...a,[e]:Array.from(t)}})},eX=e=>{ew(s=>({...s,[e]:[]}))},eB=e=>s=>{ey(a=>({...a,[e]:s.target.value}))},eq=async e=>{let s=ev[e];if(!s.trim()){E.Am.warning("Введите название");return}if("city"===e){if(0===eN.countryIds.length){E.Am.warning("Выберите хотя бы одну страну перед добавлением города");return}let a=eN.countryIds[0];try{ej(e);let t=await fetch("/api/taxonomy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,name:s,countryId:a})}),l=await t.json();if(!l.success){E.Am.error(l.error||"Не удалось создать элемент");return}await eM(),ew(e=>({...e,cityIds:Array.from(new Set([...e.cityIds,l.data.id]))})),ey(s=>({...s,[e]:""})),E.Am.success("Элемент создан")}catch(e){console.error("Error creating taxonomy item:",e),E.Am.error("Ошибка при создании элемента")}finally{ej(null)}return}try{ej(e);let a=await fetch("/api/taxonomy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,name:s})}),t=await a.json();if(!t.success){E.Am.error(t.error||"Не удалось создать элемент");return}switch(await eM(),e){case"category":ew(e=>({...e,categoryIds:Array.from(new Set([...e.categoryIds,t.data.id]))}));break;case"country":ew(e=>({...e,countryIds:Array.from(new Set([...e.countryIds,t.data.id]))}))}ey(s=>({...s,[e]:""})),E.Am.success("Элемент создан")}catch(e){console.error("Error creating taxonomy item:",e),E.Am.error("Ошибка при создании элемента")}finally{ej(null)}},eK=async()=>{if(P)try{eI(!0),await e_(P.id,{summary:eb,metaDescription:eS}),D(e=>e&&e.id===P.id?{...e,summary:eb,metaDescription:eS}:e),await eT(O,K,{silent:!0}),E.Am.success("Текст сохранён")}catch(e){console.error("Error saving content:",e),E.Am.error("Не удалось сохранить текст")}finally{eI(!1)}},eQ=async()=>{if(P)try{var e,a,t,l,r,n,i,c,d;ef(!0);let o=await fetch("/api/materials/regenerate-taxonomy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({materialId:P.id})}),m=await o.json();if(!o.ok)throw Error(m.error||"Ошибка при регенерации таксономии");if(m.success&&(null===(e=m.data)||void 0===e?void 0:e.material)){let e=m.data.material;D(e),eC(null!==(r=e.summary)&&void 0!==r?r:""),ek(null!==(n=e.metaDescription)&&void 0!==n?n:""),ew({categoryIds:null!==(i=null===(a=e.categories)||void 0===a?void 0:a.map(e=>e.id))&&void 0!==i?i:[],countryIds:null!==(c=null===(t=e.countries)||void 0===t?void 0:t.map(e=>e.id))&&void 0!==c?c:[],cityIds:null!==(d=null===(l=e.cities)||void 0===l?void 0:l.map(e=>e.id))&&void 0!==d?d:[]}),s(s=>s.map(s=>s.id===e.id?e:s)),E.Am.success("Таксономия успешно обновлена"),await eM()}}catch(e){console.error("Error regenerating taxonomy:",e),E.Am.error(e.message||"Ошибка при регенерации таксономии")}finally{ef(!1)}},eG=async()=>{if(P)try{var e,a,t,l,r,n,i,c;eh(!0);let d=await fetch("/api/materials/taxonomy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({materialId:P.id,categoryIds:eN.categoryIds,countryIds:eN.countryIds,cityIds:eN.cityIds})}),o=await d.json();if(!o.success){E.Am.error(o.error||"Не удалось сохранить таксономию");return}let m=o.data;s(e=>e.map(e=>e.id===m.id?m:e)),D(m),eC(null!==(l=m.summary)&&void 0!==l?l:""),ek(null!==(r=m.metaDescription)&&void 0!==r?r:""),ew({categoryIds:null!==(n=null===(e=m.categories)||void 0===e?void 0:e.map(e=>e.id))&&void 0!==n?n:[],countryIds:null!==(i=null===(a=m.countries)||void 0===a?void 0:a.map(e=>e.id))&&void 0!==i?i:[],cityIds:null!==(c=null===(t=m.cities)||void 0===t?void 0:t.map(e=>e.id))&&void 0!==c?c:[]}),E.Am.success("Таксономия обновлена")}catch(e){console.error("Error saving taxonomy:",e),E.Am.error("Не удалось сохранить таксономию")}finally{eh(!1)}},e0=e=>{switch(e){case"new":return(0,t.jsx)(c.C,{variant:"default",children:"Новый"});case"processed":return(0,t.jsx)(c.C,{variant:"secondary",className:"bg-green-500/10 text-green-700 dark:text-green-400",children:"Обработанные"});case"published":return(0,t.jsx)(c.C,{variant:"secondary",className:"bg-blue-500/10 text-blue-700 dark:text-blue-400",children:"Опубликован"});case"archived":return(0,t.jsx)(c.C,{variant:"outline",children:"Архив"});default:return(0,t.jsx)(c.C,{children:e})}},e1=e=>{let s=new Date(e),a=String(s.getDate()).padStart(2,"0"),t=String(s.getMonth()+1).padStart(2,"0"),l=String(s.getFullYear()).slice(-2),r=String(s.getHours()).padStart(2,"0"),n=String(s.getMinutes()).padStart(2,"0");return"".concat(a,".").concat(t,".").concat(l," ").concat(r,":").concat(n)},e4=(()=>{let e=F.size;switch(Y){case"published":return{title:"Опубликовать материалы",description:"Вы уверены, что хотите опубликовать ".concat(e," материал(ов)?"),actionText:"Опубликовать",variant:"default"};case"archived":return{title:"Архивировать материалы",description:"Вы уверены, что хотите архивировать ".concat(e," материал(ов)?"),actionText:"Архивировать",variant:"default"};case"delete":return{title:"Удалить материалы",description:"Вы уверены, что хотите удалить ".concat(e," материал(ов)? Это действие необратимо!"),actionText:"Удалить",variant:"destructive"};case"generate-summary":return{title:"Генерация саммари",description:1===e?"Сгенерировать саммари для этого материала?":"Сгенерировать саммари для ".concat(e," материалов?"),actionText:"Сгенерировать",variant:"default"};default:return null}})();return(0,l.useEffect)(()=>{(async()=>{await eT("all"),await eM()})()},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.P,{}),(0,t.jsx)("div",{className:"min-h-screen bg-background p-8",children:(0,t.jsxs)("div",{className:"container space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsx)(m.mQ,{value:O,onValueChange:eV,children:(0,t.jsxs)(m.dr,{children:[(0,t.jsxs)(m.SP,{value:"all",children:["Все ",B.total>0&&(0,t.jsxs)("span",{className:"ml-1.5 text-xs",children:["(",B.total,")"]})]}),(0,t.jsxs)(m.SP,{value:"new",children:["Новые ",B.new>0&&(0,t.jsxs)("span",{className:"ml-1.5 text-xs",children:["(",B.new,")"]})]}),(0,t.jsxs)(m.SP,{value:"processed",children:["Обработанные ",B.processed>0&&(0,t.jsxs)("span",{className:"ml-1.5 text-xs",children:["(",B.processed,")"]})]}),(0,t.jsxs)(m.SP,{value:"published",children:["Опубликованные ",B.published>0&&(0,t.jsxs)("span",{className:"ml-1.5 text-xs",children:["(",B.published,")"]})]}),(0,t.jsxs)(m.SP,{value:"archived",children:["Архив ",B.archived>0&&(0,t.jsxs)("span",{className:"ml-1.5 text-xs",children:["(",B.archived,")"]})]})]})})}),F.size>0&&(0,t.jsx)("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 animate-in slide-in-from-bottom-4 fade-in duration-300",children:(0,t.jsx)(n.Zb,{className:"border-primary shadow-2xl",children:(0,t.jsx)(n.aY,{className:"py-4 px-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"text-sm font-medium",children:["Выбрано: ",(0,t.jsx)("span",{className:"text-primary font-bold",children:F.size})," материал(ов)"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(r.z,{size:"sm",variant:"default",onClick:()=>eR("published"),children:[(0,t.jsx)(j.Z,{className:"mr-2 h-4 w-4"}),"Опубликовать"]}),(0,t.jsxs)(r.z,{size:"sm",variant:"secondary",onClick:()=>eR("generate-summary"),children:[(0,t.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),"Саммари"]}),(0,t.jsxs)(r.z,{size:"sm",variant:"outline",onClick:()=>eR("archived"),children:[(0,t.jsx)(y.Z,{className:"mr-2 h-4 w-4"}),"Архивировать"]}),(0,t.jsxs)(r.z,{size:"sm",variant:"destructive",onClick:()=>eR("delete"),children:[(0,t.jsx)(N.Z,{className:"mr-2 h-4 w-4"}),"Удалить"]})]}),(0,t.jsx)(r.z,{size:"sm",variant:"ghost",onClick:()=>J(new Set),children:"Отменить"})]})})})}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsx)(n.Ol,{children:(0,t.jsxs)(n.ll,{children:["Материалы (",et,")"]})}),(0,t.jsxs)(n.aY,{children:[(0,t.jsxs)("div",{className:"mb-4 flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(h.I,{placeholder:"Поиск…",value:em.search,onChange:e=>eu(s=>({...s,search:e.target.value})),className:"h-9 w-full sm:w-64"}),(0,t.jsx)(T,{label:"Категории",options:ei.categories.map(e=>({value:e.id,label:e.name})),selected:em.categories,onChange:e=>eu(s=>({...s,categories:e})),disabled:0===ei.categories.length}),(0,t.jsx)(T,{label:"Страны",options:ei.countries.map(e=>({value:e.id,label:e.name})),selected:em.countries,onChange:e=>eu(s=>({...s,countries:e})),disabled:0===ei.countries.length}),(0,t.jsx)(T,{label:"Города",options:eE,selected:em.cities,onChange:e=>eu(s=>({...s,cities:e})),disabled:0===eE.length}),(0,t.jsx)(T,{label:"Источники",options:eA.map(e=>({value:e,label:e})),selected:em.feeds,onChange:e=>eu(s=>({...s,feeds:e})),disabled:0===eA.length})]}),(0,t.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:(0,t.jsx)(r.z,{variant:"ghost",size:"sm",onClick:()=>eu(Z),disabled:!eZ,children:"Сбросить фильтры"})})]}),!a&&e.length>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Показано ",0===e.length?0:eJ+1,"-",eY," из ",et]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"На странице:"}),(0,t.jsx)("div",{className:"flex gap-1",children:[25,50,100,200].map(e=>(0,t.jsx)(r.z,{variant:G===e?"default":"outline",size:"sm",onClick:()=>eH(e),className:"h-8 w-12",children:e},e))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>e$(1),disabled:1===K,className:"h-8 w-8 p-0",title:"Первая страница",children:(0,t.jsx)(w.Z,{className:"h-4 w-4"})}),(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>e$(K-1),disabled:1===K,className:"h-8 w-8 p-0",title:"Предыдущая страница",children:(0,t.jsx)(b.Z,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:K}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"из"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:es})]}),(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>e$(K+1),disabled:K===es,className:"h-8 w-8 p-0",title:"Следующая страница",children:(0,t.jsx)(C.Z,{className:"h-4 w-4"})}),(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>e$(es),disabled:K===es,className:"h-8 w-8 p-0",title:"Последняя страница",children:(0,t.jsx)(S.Z,{className:"h-4 w-4"})})]})]})]}),a?(0,t.jsx)("div",{className:"space-y-2",children:Array.from({length:10}).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(x.O,{className:"h-12 w-12"}),(0,t.jsx)(x.O,{className:"h-16 w-16 rounded"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(x.O,{className:"h-4 w-full"}),(0,t.jsx)(x.O,{className:"h-4 w-3/4"})]}),(0,t.jsx)(x.O,{className:"h-8 w-24"}),(0,t.jsx)(x.O,{className:"h-8 w-20"})]},s))}):0===e.length?(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:eZ?"Материалы по выбранным фильтрам не найдены.":"Нет материалов. Добавьте RSS фиды и синхронизируйте их на главной."}):(0,t.jsxs)(i.iA,{children:[(0,t.jsx)(i.xD,{children:(0,t.jsxs)(i.SC,{children:[(0,t.jsx)(i.ss,{className:"w-12",children:(0,t.jsx)(u.X,{checked:e.length>0&&e.every(e=>F.has(e.id)),onCheckedChange:()=>{if(F.size===e.length&&e.length>0){let s=new Set(F);e.forEach(e=>s.delete(e.id)),J(s)}else{let s=new Set(F);e.forEach(e=>s.add(e.id)),J(s)}}})}),(0,t.jsx)(i.ss,{className:"w-20",children:"Обложка"}),(0,t.jsx)(i.ss,{className:"min-w-[300px]",children:"Заголовок"}),(0,t.jsx)(i.ss,{className:"w-[220px]",children:"Категории"}),(0,t.jsx)(i.ss,{children:"Источник"}),(0,t.jsx)(i.ss,{className:"w-[130px]",children:"Дата"}),(0,t.jsx)(i.ss,{className:"w-[140px]",children:"Саммари"}),(0,t.jsx)(i.ss,{className:"w-[160px]",children:"Статус обработки"}),(0,t.jsx)(i.ss,{className:"w-[160px]",children:"Статус публикации"}),(0,t.jsx)(i.ss,{children:"Статус"})]})}),(0,t.jsx)(i.RM,{children:e.map(e=>(0,t.jsxs)(i.SC,{className:"cursor-pointer hover:bg-accent/50",children:[(0,t.jsx)(i.pj,{onClick:e=>e.stopPropagation(),children:(0,t.jsx)(u.X,{checked:F.has(e.id),onCheckedChange:()=>eW(e.id)})}),(0,t.jsx)(i.pj,{onClick:()=>eF(e),children:e.thumbnail?(0,t.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-16 h-16 object-cover rounded",onError:e=>{e.currentTarget.style.display="none"}}):(0,t.jsx)("div",{className:"w-16 h-16 bg-muted rounded flex items-center justify-center text-xs text-muted-foreground",children:"Нет фото"})}),(0,t.jsx)(i.pj,{className:"font-medium",onClick:()=>eF(e),children:(0,t.jsx)("div",{className:"line-clamp-3 leading-snug",children:e.title})}),(0,t.jsx)(i.pj,{onClick:()=>eF(e),children:e.categories&&e.categories.length>0?(0,t.jsxs)("div",{className:"flex max-w-[220px] flex-wrap gap-1",children:[e.categories.slice(0,3).map(s=>(0,t.jsx)(c.C,{variant:"outline",className:"text-xs font-normal",children:s.name},"".concat(e.id,"-category-").concat(s.id))),e.categories.length>3&&(0,t.jsxs)(c.C,{variant:"secondary",className:"text-xs font-normal",children:["+",e.categories.length-3]})]}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"—"})}),(0,t.jsx)(i.pj,{onClick:()=>eF(e),children:(0,t.jsx)("div",{className:"truncate max-w-[200px]",title:e.feedName||e.source,children:e.feedName||e.source||"—"})}),(0,t.jsx)(i.pj,{onClick:()=>eF(e),children:e1(e.createdAt)}),(0,t.jsx)(i.pj,{onClick:()=>eF(e),children:er.has(e.id)?(0,t.jsx)(c.C,{variant:"secondary",className:"bg-blue-500/10 text-blue-700 dark:text-blue-400",children:"Генерация..."}):e.summary&&e.summary.trim().length>0?(0,t.jsx)(c.C,{variant:"default",children:"Есть"}):(0,t.jsx)(c.C,{variant:"outline",children:"Нет"})}),(0,t.jsx)(i.pj,{onClick:()=>eF(e),children:(0,t.jsx)(c.C,{variant:e.processed?"secondary":"outline",className:e.processed?"border-green-500/20 bg-green-500/10 text-green-700 dark:text-green-400":"text-muted-foreground",children:e.processed?"Обработан":"Не обработан"})}),(0,t.jsx)(i.pj,{onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.C,{variant:e.published?"secondary":"outline",className:e.published?"border-blue-500/20 bg-blue-500/10 text-blue-700 dark:text-blue-400":"text-muted-foreground",children:e.published?"Опубликован":"Не опубликован"}),(0,t.jsx)(r.z,{variant:"ghost",size:"icon",onClick:()=>eD(e,!e.published),disabled:U.has(e.id)||H,title:e.published?"Снять публикацию":"Опубликовать материал",children:U.has(e.id)?(0,t.jsx)(k.Z,{className:"h-4 w-4 animate-spin"}):e.published?(0,t.jsx)(z.Z,{className:"h-4 w-4 text-red-500"}):(0,t.jsx)(j.Z,{className:"h-4 w-4 text-blue-500"})})]})}),(0,t.jsx)(i.pj,{onClick:()=>eF(e),children:e0(e.status)})]},e.id))})]}),!a&&e.length>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Показано ",0===e.length?0:eJ+1,"-",eY," из ",et]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"На странице:"}),(0,t.jsx)("div",{className:"flex gap-1",children:[25,50,100,200].map(e=>(0,t.jsx)(r.z,{variant:G===e?"default":"outline",size:"sm",onClick:()=>eH(e),className:"h-8 w-12",children:e},e))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>e$(1),disabled:1===K,className:"h-8 w-8 p-0",title:"Первая страница",children:(0,t.jsx)(w.Z,{className:"h-4 w-4"})}),(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>e$(K-1),disabled:1===K,className:"h-8 w-8 p-0",title:"Предыдущая страница",children:(0,t.jsx)(b.Z,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:K}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"из"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:es})]}),(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>e$(K+1),disabled:K===es,className:"h-8 w-8 p-0",title:"Следующая страница",children:(0,t.jsx)(C.Z,{className:"h-4 w-4"})}),(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>e$(es),disabled:K===es,className:"h-8 w-8 p-0",title:"Последняя страница",children:(0,t.jsx)(S.Z,{className:"h-4 w-4"})})]})]})]})]})]}),(0,t.jsx)(o.aR,{open:null!==Y,onOpenChange:e=>!e&&$(null),children:(0,t.jsxs)(o._T,{children:[(0,t.jsxs)(o.fY,{children:[(0,t.jsx)(o.f$,{children:null==e4?void 0:e4.title}),(0,t.jsx)(o.yT,{children:null==e4?void 0:e4.description})]}),(0,t.jsxs)(o.xo,{children:[(0,t.jsx)(o.le,{children:"Отмена"}),(0,t.jsx)(o.OL,{onClick:eL,disabled:H,className:"".concat((null==e4?void 0:e4.variant)==="destructive"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":""," flex items-center"),children:H?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"delete"===Y?"Удаление...":"Выполнение..."]}):null==e4?void 0:e4.actionText})]})]})}),(0,t.jsx)(d.Vq,{open:M,onOpenChange:R,children:(0,t.jsxs)(d.cZ,{className:"w-[min(95vw,1100px)] max-h-[85vh] overflow-y-auto",children:[(0,t.jsxs)(d.fK,{children:[(0,t.jsx)(d.$N,{className:"text-2xl pr-8",children:null==P?void 0:P.title}),(0,t.jsxs)(d.Be,{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Автор:"})," ",(null==P?void 0:P.author)||"—"]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Источник:"})," ",(null==P?void 0:P.feedName)||(null==P?void 0:P.source)||"—"]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Дата:"})," ",P&&e1(P.createdAt)]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(c.C,{variant:(null==P?void 0:P.processed)?"secondary":"outline",className:(null==P?void 0:P.processed)?"border-green-500/20 bg-green-500/10 text-green-700 dark:text-green-400":"text-muted-foreground",children:(null==P?void 0:P.processed)?"Обработан":"Не обработан"}),(0,t.jsx)(c.C,{variant:(null==P?void 0:P.published)?"secondary":"outline",className:(null==P?void 0:P.published)?"border-blue-500/20 bg-blue-500/10 text-blue-700 dark:text-blue-400":"text-muted-foreground",children:(null==P?void 0:P.published)?"Опубликован":"Не опубликован"})]}),P&&(0,t.jsx)("div",{className:"flex flex-wrap items-center gap-4 pt-1 text-xs text-muted-foreground",children:(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.X,{checked:P.published,onCheckedChange:e=>eD(P,!0===e),disabled:U.has(P.id)}),(0,t.jsx)("span",{children:U.has(P.id)?"Обновляем статус публикации...":"Опубликован"})]})})]})]}),P&&(0,t.jsx)("div",{className:"mt-4 flex justify-end",children:(0,t.jsx)(r.z,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)("a",{href:P.link||P.source||"#",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2",children:[(0,t.jsx)(I.Z,{className:"h-4 w-4"}),"Открыть источник"]})})}),(0,t.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Мета описание"}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[eS.length,"/160"]})]}),(0,t.jsx)(p.g,{value:eS,onChange:e=>ek(e.target.value),maxLength:160,rows:3,placeholder:"Краткое описание статьи"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Саммари"}),(null==P?void 0:P.summary)&&(0,t.jsx)(c.C,{variant:"secondary",children:"AI"})]}),(0,t.jsx)(p.g,{value:eb,onChange:e=>eC(e.target.value),rows:6,placeholder:"Краткое саммари на 3-5 предложений"})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(r.z,{onClick:eK,disabled:!P||!eO||ez,className:"w-full sm:w-56",children:ez?"Сохранение...":"Сохранить текст"})})]}),(0,t.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>V(e=>!e),className:"w-full sm:w-56",children:L?"Скрыть полный текст":"Показать полный текст"}),L&&(0,t.jsx)("div",{className:"rounded-lg border bg-background p-4 text-sm leading-relaxed",children:(null==P?void 0:P.fullContent)?(0,t.jsx)("div",{className:"prose prose-sm max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:P.fullContent.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/on\w+="[^"]*"/g,"").replace(/on\w+='[^']*'/g,"")}}):(0,t.jsx)("p",{className:"text-foreground",children:null==P?void 0:P.content})})]}),(0,t.jsx)("div",{className:"mt-6 space-y-6",children:ed?(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Загрузка справочников..."}):(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsxs)("section",{className:"rounded-lg border bg-muted/30 p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f._,{className:"text-sm font-semibold",children:"Категории"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Выберите 1–3 наиболее релевантных категории или добавьте новую."})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:[(0,t.jsx)(T,{label:"Добавить из списка",options:ei.categories.map(e=>({value:e.id,label:e.name})),selected:eN.categoryIds,onChange:e=>ew(s=>({...s,categoryIds:e})),disabled:0===ei.categories.length,fullWidth:!0}),(0,t.jsx)(r.z,{variant:"ghost",size:"sm",onClick:()=>eX("categoryIds"),disabled:0===eN.categoryIds.length,className:"sm:w-auto w-full",children:"Очистить"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:eN.categoryIds.length>0?eN.categoryIds.map(e=>{let s=ei.categories.find(s=>s.id===e);return s?(0,t.jsxs)(c.C,{variant:"secondary",className:"gap-1",children:[s.name,(0,t.jsx)("button",{type:"button",className:"ml-1 inline-flex h-4 w-4 items-center justify-center rounded-sm hover:text-destructive",onClick:()=>eU("categoryIds",e),children:(0,t.jsx)(z.Z,{className:"h-3 w-3"})})]},"selected-category-".concat(e)):null}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Категории не выбраны"})}),(0,t.jsxs)("div",{className:"space-y-2 border-t pt-4",children:[(0,t.jsx)(f._,{className:"text-xs font-medium text-muted-foreground",children:"Нет нужной категории?"}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row",children:[(0,t.jsx)(h.I,{value:ev.category,onChange:eB("category"),placeholder:"Название новой категории",className:"h-9"}),(0,t.jsx)(r.z,{size:"sm",onClick:()=>eq("category"),disabled:"category"===eg,children:"category"===eg?"Добавление...":"Добавить"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsxs)("section",{className:"rounded-lg border bg-muted/10 p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f._,{className:"text-sm font-semibold",children:"Страны"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Укажите страны, к которым относится материал."})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:[(0,t.jsx)(T,{label:"Добавить страну",options:ei.countries.map(e=>({value:e.id,label:e.name})),selected:eN.countryIds,onChange:e=>ew(s=>({...s,countryIds:e})),disabled:0===ei.countries.length,fullWidth:!0}),(0,t.jsx)(r.z,{variant:"ghost",size:"sm",onClick:()=>eX("countryIds"),disabled:0===eN.countryIds.length,className:"sm:w-auto w-full",children:"Очистить"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:eN.countryIds.length>0?eN.countryIds.map(e=>{let s=ei.countries.find(s=>s.id===e);return s?(0,t.jsxs)(c.C,{variant:"secondary",className:"gap-1",children:[s.name,(0,t.jsx)("button",{type:"button",className:"ml-1 inline-flex h-4 w-4 items-center justify-center rounded-sm hover:text-destructive",onClick:()=>eU("countryIds",e),children:(0,t.jsx)(z.Z,{className:"h-3 w-3"})})]},"selected-country-".concat(e)):null}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Страны не выбраны"})}),(0,t.jsxs)("div",{className:"space-y-2 border-t pt-4",children:[(0,t.jsx)(f._,{className:"text-xs font-medium text-muted-foreground",children:"Добавить новую страну"}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row",children:[(0,t.jsx)(h.I,{value:ev.country,onChange:eB("country"),placeholder:"Название новой страны",className:"h-9"}),(0,t.jsx)(r.z,{size:"sm",onClick:()=>eq("country"),disabled:"country"===eg,children:"country"===eg?"Добавление...":"Добавить"})]})]})]}),(0,t.jsxs)("section",{className:"rounded-lg border bg-muted/10 p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f._,{className:"text-sm font-semibold",children:"Города"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Выберите города. Сначала укажите страну — мы подберём связанные города автоматически."})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:[(0,t.jsx)(T,{label:"Добавить город",options:eE,selected:eN.cityIds,onChange:e=>ew(s=>({...s,cityIds:e})),disabled:0===eE.length,fullWidth:!0}),(0,t.jsx)(r.z,{variant:"ghost",size:"sm",onClick:()=>eX("cityIds"),disabled:0===eN.cityIds.length,className:"sm:w-auto w-full",children:"Очистить"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:eN.cityIds.length>0?eN.cityIds.map(e=>{let s=eE.find(s=>s.value===e);return s?(0,t.jsxs)(c.C,{variant:"secondary",className:"gap-1",children:[s.label,(0,t.jsx)("button",{type:"button",className:"ml-1 inline-flex h-4 w-4 items-center justify-center rounded-sm hover:text-destructive",onClick:()=>eU("cityIds",e),children:(0,t.jsx)(z.Z,{className:"h-3 w-3"})})]},"selected-city-".concat(e)):null}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Города не выбраны"})}),(0,t.jsxs)("div",{className:"space-y-2 border-t pt-4",children:[(0,t.jsx)(f._,{className:"text-xs font-medium text-muted-foreground",children:"Добавить новый город"}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row",children:[(0,t.jsx)(h.I,{value:ev.city,onChange:eB("city"),placeholder:"Название нового города",className:"h-9",disabled:0===eN.countryIds.length}),(0,t.jsx)(r.z,{size:"sm",onClick:()=>eq("city"),disabled:0===eN.countryIds.length||"city"===eg,children:"city"===eg?"Добавление...":"Добавить"})]}),0===eN.countryIds.length&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Чтобы добавить город, сначала выберите страну."})]})]})]})]})}),(0,t.jsxs)("div",{className:"mt-6 flex flex-col items-end gap-2",children:[(0,t.jsx)(r.z,{onClick:eQ,disabled:ep||ed,variant:"outline",className:"w-full sm:w-56",children:ep?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Регенерация..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),"Регенерировать таксономию"]})}),(0,t.jsx)(r.z,{onClick:eG,disabled:ex||ed,className:"w-full sm:w-56",children:ex?"Сохранение...":"Сохранить таксономию"})]}),((null==P?void 0:P.link)||(null==P?void 0:P.source))&&(0,t.jsx)("div",{className:"mt-6 pt-4 border-t",children:(0,t.jsx)(r.z,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)("a",{href:P.link||P.source||"#",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[(0,t.jsx)(I.Z,{className:"h-4 w-4"}),"Открыть источник"]})})})]})})]})})]})}},6780:function(e,s,a){"use strict";a.d(s,{OL:function(){return f},_T:function(){return m},aR:function(){return c},f$:function(){return h},fY:function(){return u},le:function(){return g},xo:function(){return x},yT:function(){return p}});var t=a(7437),l=a(2265),r=a(9546),n=a(7440),i=a(495);let c=r.fC;r.xz;let d=r.h_,o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.aV,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l,ref:s})});o.displayName=r.aV.displayName;let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsxs)(d,{children:[(0,t.jsx)(o,{}),(0,t.jsx)(r.VY,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l})]})});m.displayName=r.VY.displayName;let u=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...a})};u.displayName="AlertDialogHeader";let x=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};x.displayName="AlertDialogFooter";let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.Dx,{ref:s,className:(0,n.cn)("text-lg font-semibold",a),...l})});h.displayName=r.Dx.displayName;let p=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.dk,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...l})});p.displayName=r.dk.displayName;let f=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.aU,{ref:s,className:(0,n.cn)((0,i.d)(),a),...l})});f.displayName=r.aU.displayName;let g=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.$j,{ref:s,className:(0,n.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...l})});g.displayName=r.$j.displayName},4693:function(e,s,a){"use strict";a.d(s,{C:function(){return i}});var t=a(7437);a(2265);var l=a(3027),r=a(7440);let n=(0,l.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:a,...l}=e;return(0,t.jsx)("div",{className:(0,r.cn)(n({variant:a}),s),...l})}}},function(e){e.O(0,[876,776,138,356,402,369,696,317,971,23,744],function(){return e(e.s=1377)}),_N_E=e.O()}]);