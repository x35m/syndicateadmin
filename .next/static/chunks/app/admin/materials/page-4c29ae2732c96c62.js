(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[227],{1377:function(e,a,s){Promise.resolve().then(s.bind(s,436))},436:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return M}});var t=s(7437),l=s(2265),n=s(495),i=s(6013),r=s(6975),c=s(4693),d=s(837),o=s(6780),m=s(5273),u=s(6466),h=s(2738),x=s(3102),g=s(7135),p=s(7934);let f=(0,p.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),j=(0,p.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),v=(0,p.Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);var y=s(4920),N=s(3925),b=s(7785),w=s(1172),C=s(9346),I=s(664),k=s(870),S=s(2790),z=s(6219),A=s(7776),E=s(6910);let T={search:"",categories:[],themes:[],tags:[],alliances:[],countries:[],cities:[],feeds:[],onlyWithSummary:!1};function Z(e){let{label:a,options:s,selected:i,onChange:r,disabled:d}=e,[o,m]=(0,l.useState)(""),u=e=>{i.includes(e)?r(i.filter(a=>a!==e)):r([...i,e])},h=(0,l.useMemo)(()=>{let e=o.trim().toLowerCase();return e?s.filter(a=>a.label.toLowerCase().includes(e)):s},[s,o]);return(0,t.jsxs)(E.h_,{onOpenChange:e=>!e&&m(""),children:[(0,t.jsx)(E.$F,{asChild:!0,disabled:d,children:(0,t.jsxs)(n.z,{variant:"outline",size:"sm",className:"min-w-[160px] justify-between",children:[(0,t.jsx)("span",{children:a}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.length>0&&(0,t.jsx)(c.C,{variant:"secondary",className:"px-1 text-xs font-medium",children:i.length}),(0,t.jsx)(f,{className:"h-3 w-3"})]})]})}),(0,t.jsxs)(E.AW,{align:"start",className:"w-64 max-h-64 overflow-y-auto",children:[(0,t.jsx)(E.Ju,{children:a}),(0,t.jsx)(E.VD,{}),(0,t.jsx)("div",{className:"p-1",children:(0,t.jsx)(x.I,{placeholder:"Поиск...",value:o,onChange:e=>m(e.target.value),className:"h-8"})}),(0,t.jsx)(E.VD,{}),0===h.length?(0,t.jsx)("div",{className:"px-2 py-1.5 text-xs text-muted-foreground",children:"Ничего не найдено"}):h.map(e=>(0,t.jsx)(E.bO,{checked:i.includes(e.value),onCheckedChange:()=>u(e.value),children:e.label},String(e.value)))]})]})}function M(){var e,a,s;let[p,f]=(0,l.useState)([]),[E,M]=(0,l.useState)(!0),[O,V]=(0,l.useState)("all"),[_,D]=(0,l.useState)(null),[P,R]=(0,l.useState)(!1),[L,W]=(0,l.useState)(new Set),[F,Y]=(0,l.useState)(null),[q,J]=(0,l.useState)({total:0,new:0,processed:0,archived:0}),[$,H]=(0,l.useState)(1),[K,U]=(0,l.useState)(50),[X,B]=(0,l.useState)(1),[Q,G]=(0,l.useState)(0),[ee,ea]=(0,l.useState)(new Set),[es,et]=(0,l.useState)({categories:[],themes:[],tags:[],alliances:[],countries:[]}),[el,en]=(0,l.useState)(!1),[ei,er]=(0,l.useState)(T),[ec,ed]=(0,l.useState)(!1),[eo,em]=(0,l.useState)(null),[eu,eh]=(0,l.useState)({category:"",theme:"",tag:"",alliance:"",country:"",city:""}),[ex,eg]=(0,l.useState)({categoryIds:[],themeIds:[],tagIds:[],allianceIds:[],countryId:null,cityId:null}),ep=(0,l.useMemo)(()=>{let e=new Set;return p.forEach(a=>{let s=a.feedName||a.source;s&&e.add(s)}),Array.from(e).sort((e,a)=>e.localeCompare(a,"ru"))},[p]),ef=(0,l.useMemo)(()=>{let e=[];return es.countries.forEach(a=>{a.cities.forEach(s=>{e.push({value:s.id,label:"".concat(s.name," — ").concat(a.name)})})}),e.sort((e,a)=>e.label.localeCompare(a.label,"ru"))},[es.countries]),ej=(0,l.useMemo)(()=>ei.search.trim().length>0||ei.categories.length>0||ei.themes.length>0||ei.tags.length>0||ei.alliances.length>0||ei.countries.length>0||ei.cities.length>0||ei.feeds.length>0||ei.onlyWithSummary,[ei]);(0,l.useEffect)(()=>{H(1),W(new Set)},[ei,O]),(0,l.useEffect)(()=>{ev(O,$)},[ei,O,$,K]),(0,l.useEffect)(()=>{let e=new EventSource("/api/materials/stream?status=".concat(O));return e.onmessage=e=>{try{let m=JSON.parse(e.data);if("new-material"===m.type){var a,s,t,l,n,i,r,c,d,o;let e=m.data,u=!0;if(ei.categories.length>0){let t=null!==(s=null===(a=e.categories)||void 0===a?void 0:a.map(e=>e.id))&&void 0!==s?s:[];ei.categories.some(e=>t.includes(e))||(u=!1)}if(u&&ei.themes.length>0){let a=null!==(l=null===(t=e.themes)||void 0===t?void 0:t.map(e=>e.id))&&void 0!==l?l:[];ei.themes.some(e=>a.includes(e))||(u=!1)}if(u&&ei.tags.length>0){let a=null!==(i=null===(n=e.tags)||void 0===n?void 0:n.map(e=>e.id))&&void 0!==i?i:[];ei.tags.some(e=>a.includes(e))||(u=!1)}if(u&&ei.alliances.length>0){let a=null!==(c=null===(r=e.alliances)||void 0===r?void 0:r.map(e=>e.id))&&void 0!==c?c:[];ei.alliances.some(e=>a.includes(e))||(u=!1)}if(u&&ei.countries.length>0){let a=null===(d=e.country)||void 0===d?void 0:d.id;a&&ei.countries.includes(a)||(u=!1)}if(u&&ei.cities.length>0){let a=null===(o=e.city)||void 0===o?void 0:o.id;a&&ei.cities.includes(a)||(u=!1)}if(u&&ei.feeds.length>0){let a=e.feedName||e.source||"";ei.feeds.includes(a)||(u=!1)}if(u&&ei.onlyWithSummary&&(!e.summary||0===e.summary.trim().length)&&(u=!1),u&&ei.search.trim()){let a=ei.search.trim().toLowerCase();[e.title,e.summary,e.content,e.feedName,e.source].filter(Boolean).join(" ").toLowerCase().includes(a)||(u=!1)}"all"!==O&&e.status!==O&&(u=!1),u&&(1===$?(f(a=>[e,...a].slice(0,K)),G(e=>e+1)):ev(O,$))}else"sync-complete"===m.type&&ev(O,$)}catch(e){console.error("Error parsing SSE message:",e)}},e.onerror=a=>{console.error("SSE connection error:",a),setTimeout(()=>{e.close()},5e3)},()=>{e.close()}},[O,ei,$,K]);let ev=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$;M(!0);try{let s=new URLSearchParams;s.set("status",e),s.set("page",a.toString()),s.set("pageSize",K.toString()),ei.search&&s.set("search",ei.search),ei.categories.length>0&&s.set("categoryIds",ei.categories.join(",")),ei.themes.length>0&&s.set("themeIds",ei.themes.join(",")),ei.tags.length>0&&s.set("tagIds",ei.tags.join(",")),ei.alliances.length>0&&s.set("allianceIds",ei.alliances.join(",")),ei.countries.length>0&&s.set("countryIds",ei.countries.join(",")),ei.cities.length>0&&s.set("cityIds",ei.cities.join(",")),ei.feeds.length>0&&s.set("feedNames",ei.feeds.join(",")),ei.onlyWithSummary&&s.set("onlyWithSummary","true");let t=await fetch("/api/materials?".concat(s.toString())),l=await t.json();l.success&&(f(l.data),l.pagination&&(B(l.pagination.totalPages),G(l.pagination.total),H(l.pagination.page)),J(l.stats||{total:0,new:0,processed:0,archived:0}))}catch(e){console.error("Error fetching materials:",e)}finally{M(!1)}},ey=async()=>{try{en(!0);let n=await fetch("/api/taxonomy"),i=await n.json();if(i.success){var e,a,s,t,l;et({categories:null!==(e=i.categories)&&void 0!==e?e:[],themes:null!==(a=i.themes)&&void 0!==a?a:[],tags:null!==(s=i.tags)&&void 0!==s?s:[],alliances:null!==(t=i.alliances)&&void 0!==t?t:[],countries:null!==(l=i.countries)&&void 0!==l?l:[]})}else A.Am.error(i.error||"Не удалось загрузить таксономию")}catch(e){console.error("Error fetching taxonomy:",e),A.Am.error("Не удалось загрузить таксономию")}finally{en(!1)}},eN=async(e,a)=>{try{let s=await fetch("/api/materials",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,status:a})});(await s.json()).success&&(await ev(O),await ey(),W(new Set))}catch(e){console.error("Error updating status:",e)}},eb=e=>{if(0===L.size){A.Am.warning("Выберите материалы для обработки");return}Y(e)},ew=async()=>{if(!F)return;let e=Array.from(L);try{if("generate-summary"===F){let a=0,s=0,t="";for(let l of e){ea(e=>new Set(e).add(l));try{let e=await fetch("/api/materials/generate-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({materialId:l})}),n=await e.json();n.success?a++:(s++,t||(t=n.error),console.error("Failed to generate summary for ".concat(l,":"),n.error))}catch(e){s++,t||(t=e instanceof Error?e.message:"Неизвестная ошибка"),console.error("Error generating summary for ".concat(l,":"),e)}finally{ea(e=>{let a=new Set(e);return a.delete(l),a})}}await ev(O),await ey(),W(new Set),0===s?A.Am.success("Саммари успешно сгенерировано для ".concat(a," материал(ов)")):0===a?A.Am.error("Ошибка: ".concat(t)):A.Am.warning("Успешно: ".concat(a,", Ошибки: ").concat(s,". ").concat(t))}else{for(let a of e)"delete"===F?await fetch("/api/materials?id=".concat(a),{method:"DELETE"}):await eN(a,"published"===F?"processed":"archived");await ev(O),W(new Set),A.Am.success("Успешно ".concat({published:"опубликовано",archived:"архивировано",delete:"удалено"}[F]," ").concat(e.length," материал(ов)"))}}catch(e){console.error("Error performing bulk action:",e),A.Am.error("Ошибка при выполнении действия")}finally{Y(null)}},eC=async e=>{V(e),er(T),await ev(e),W(new Set),H(1)},eI=e=>{var a,s,t,l,n,i,r,c,d,o,m,u;D(e),eg({categoryIds:null!==(r=null===(a=e.categories)||void 0===a?void 0:a.map(e=>e.id))&&void 0!==r?r:[],themeIds:null!==(c=null===(s=e.themes)||void 0===s?void 0:s.map(e=>e.id))&&void 0!==c?c:[],tagIds:null!==(d=null===(t=e.tags)||void 0===t?void 0:t.map(e=>e.id))&&void 0!==d?d:[],allianceIds:null!==(o=null===(l=e.alliances)||void 0===l?void 0:l.map(e=>e.id))&&void 0!==o?o:[],countryId:null!==(m=null===(n=e.country)||void 0===n?void 0:n.id)&&void 0!==m?m:null,cityId:null!==(u=null===(i=e.city)||void 0===i?void 0:i.id)&&void 0!==u?u:null}),R(!0)},ek=($-1)*K,eS=ek+p.length,ez=e=>{H(Math.max(1,Math.min(e,X)))},eA=e=>{U(e),H(1)},eE=e=>{let a=new Set(L);a.has(e)?a.delete(e):a.add(e),W(a)},eT=(e,a)=>{eg(s=>{let t=new Set(s[e]);return t.delete(a),{...s,[e]:Array.from(t)}})},eZ=e=>a=>{eh(s=>({...s,[e]:a.target.value}))},eM=async e=>{let a=eu[e];if(!a.trim()){A.Am.warning("Введите название");return}if("city"===e&&!ex.countryId){A.Am.warning("Выберите страну перед добавлением города");return}try{em(e);let s=await fetch("/api/taxonomy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,name:a,countryId:"city"===e?ex.countryId:void 0})}),t=await s.json();if(!t.success){A.Am.error(t.error||"Не удалось создать элемент");return}switch(await ey(),e){case"category":eg(e=>({...e,categoryIds:Array.from(new Set([...e.categoryIds,t.data.id]))}));break;case"theme":eg(e=>({...e,themeIds:Array.from(new Set([...e.themeIds,t.data.id]))}));break;case"tag":eg(e=>({...e,tagIds:Array.from(new Set([...e.tagIds,t.data.id]))}));break;case"alliance":eg(e=>({...e,allianceIds:Array.from(new Set([...e.allianceIds,t.data.id]))}));break;case"country":eg(e=>({...e,countryId:t.data.id,cityId:null}));break;case"city":eg(e=>({...e,cityId:t.data.id}))}eh(a=>({...a,[e]:""})),A.Am.success("Элемент создан")}catch(e){console.error("Error creating taxonomy item:",e),A.Am.error("Не удалось создать элемент")}finally{em(null)}},eO=async()=>{if(_)try{var e,a,s,t,l,n,i,r,c,d,o,m;ed(!0);let u=await fetch("/api/materials/taxonomy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({materialId:_.id,categoryIds:ex.categoryIds,themeIds:ex.themeIds,tagIds:ex.tagIds,allianceIds:ex.allianceIds,countryId:ex.countryId,cityId:ex.cityId})}),h=await u.json();if(!h.success){A.Am.error(h.error||"Не удалось сохранить таксономию");return}let x=h.data;f(e=>e.map(e=>e.id===x.id?x:e)),D(x),eg({categoryIds:null!==(i=null===(e=x.categories)||void 0===e?void 0:e.map(e=>e.id))&&void 0!==i?i:[],themeIds:null!==(r=null===(a=x.themes)||void 0===a?void 0:a.map(e=>e.id))&&void 0!==r?r:[],tagIds:null!==(c=null===(s=x.tags)||void 0===s?void 0:s.map(e=>e.id))&&void 0!==c?c:[],allianceIds:null!==(d=null===(t=x.alliances)||void 0===t?void 0:t.map(e=>e.id))&&void 0!==d?d:[],countryId:null!==(o=null===(l=x.country)||void 0===l?void 0:l.id)&&void 0!==o?o:null,cityId:null!==(m=null===(n=x.city)||void 0===n?void 0:n.id)&&void 0!==m?m:null}),A.Am.success("Таксономия обновлена")}catch(e){console.error("Error saving taxonomy:",e),A.Am.error("Не удалось сохранить таксономию")}finally{ed(!1)}},eV=ex.countryId?es.countries.find(e=>e.id===ex.countryId):void 0,e_=null!==(e=null==eV?void 0:eV.cities)&&void 0!==e?e:[],eD=e=>{switch(e){case"new":return(0,t.jsx)(c.C,{variant:"default",children:"Новый"});case"processed":return(0,t.jsx)(c.C,{variant:"secondary",className:"bg-green-500/10 text-green-700 dark:text-green-400",children:"Опубликован"});case"archived":return(0,t.jsx)(c.C,{variant:"outline",children:"Архив"});default:return(0,t.jsx)(c.C,{children:e})}},eP=e=>{let a=new Date(e),s=String(a.getDate()).padStart(2,"0"),t=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getFullYear()).slice(-2),n=String(a.getHours()).padStart(2,"0"),i=String(a.getMinutes()).padStart(2,"0");return"".concat(s,".").concat(t,".").concat(l," ").concat(n,":").concat(i)},eR=(()=>{let e=L.size;switch(F){case"published":return{title:"Опубликовать материалы",description:"Вы уверены, что хотите опубликовать ".concat(e," материал(ов)?"),actionText:"Опубликовать",variant:"default"};case"archived":return{title:"Архивировать материалы",description:"Вы уверены, что хотите архивировать ".concat(e," материал(ов)?"),actionText:"Архивировать",variant:"default"};case"delete":return{title:"Удалить материалы",description:"Вы уверены, что хотите удалить ".concat(e," материал(ов)? Это действие необратимо!"),actionText:"Удалить",variant:"destructive"};case"generate-summary":return{title:"Генерация саммари",description:1===e?"Сгенерировать саммари для этого материала?":"Сгенерировать саммари для ".concat(e," материалов?"),actionText:"Сгенерировать",variant:"default"};default:return null}})();return(0,l.useEffect)(()=>{(async()=>{await ev("all"),await ey()})()},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.P,{}),(0,t.jsx)("div",{className:"min-h-screen bg-background p-8",children:(0,t.jsxs)("div",{className:"container space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsx)(m.mQ,{value:O,onValueChange:eC,children:(0,t.jsxs)(m.dr,{children:[(0,t.jsxs)(m.SP,{value:"all",children:["Все ",q.total>0&&(0,t.jsxs)("span",{className:"ml-1.5 text-xs",children:["(",q.total,")"]})]}),(0,t.jsxs)(m.SP,{value:"new",children:["Новые ",q.new>0&&(0,t.jsxs)("span",{className:"ml-1.5 text-xs",children:["(",q.new,")"]})]}),(0,t.jsxs)(m.SP,{value:"processed",children:["Опубликованные ",q.processed>0&&(0,t.jsxs)("span",{className:"ml-1.5 text-xs",children:["(",q.processed,")"]})]}),(0,t.jsxs)(m.SP,{value:"archived",children:["Архив ",q.archived>0&&(0,t.jsxs)("span",{className:"ml-1.5 text-xs",children:["(",q.archived,")"]})]})]})})}),L.size>0&&(0,t.jsx)("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 animate-in slide-in-from-bottom-4 fade-in duration-300",children:(0,t.jsx)(i.Zb,{className:"border-primary shadow-2xl",children:(0,t.jsx)(i.aY,{className:"py-4 px-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"text-sm font-medium",children:["Выбрано: ",(0,t.jsx)("span",{className:"text-primary font-bold",children:L.size})," материал(ов)"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(n.z,{size:"sm",variant:"default",onClick:()=>eb("published"),children:[(0,t.jsx)(j,{className:"mr-2 h-4 w-4"}),"Опубликовать"]}),(0,t.jsxs)(n.z,{size:"sm",variant:"secondary",onClick:()=>eb("generate-summary"),children:[(0,t.jsx)(v,{className:"mr-2 h-4 w-4"}),"Саммари"]}),(0,t.jsxs)(n.z,{size:"sm",variant:"outline",onClick:()=>eb("archived"),children:[(0,t.jsx)(y.Z,{className:"mr-2 h-4 w-4"}),"Архивировать"]}),(0,t.jsxs)(n.z,{size:"sm",variant:"destructive",onClick:()=>eb("delete"),children:[(0,t.jsx)(N.Z,{className:"mr-2 h-4 w-4"}),"Удалить"]})]}),(0,t.jsx)(n.z,{size:"sm",variant:"ghost",onClick:()=>W(new Set),children:"Отменить"})]})})})}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsxs)(i.ll,{children:["Материалы (",Q,")"]})}),(0,t.jsxs)(i.aY,{children:[(0,t.jsxs)("div",{className:"mb-4 flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(x.I,{placeholder:"Поиск…",value:ei.search,onChange:e=>er(a=>({...a,search:e.target.value})),className:"h-9 w-full sm:w-64"}),(0,t.jsx)(Z,{label:"Категории",options:es.categories.map(e=>({value:e.id,label:e.name})),selected:ei.categories,onChange:e=>er(a=>({...a,categories:e})),disabled:0===es.categories.length}),(0,t.jsx)(Z,{label:"Темы",options:es.themes.map(e=>({value:e.id,label:e.name})),selected:ei.themes,onChange:e=>er(a=>({...a,themes:e})),disabled:0===es.themes.length}),(0,t.jsx)(Z,{label:"Теги",options:es.tags.map(e=>({value:e.id,label:e.name})),selected:ei.tags,onChange:e=>er(a=>({...a,tags:e})),disabled:0===es.tags.length}),(0,t.jsx)(Z,{label:"Союзы",options:es.alliances.map(e=>({value:e.id,label:e.name})),selected:ei.alliances,onChange:e=>er(a=>({...a,alliances:e})),disabled:0===es.alliances.length}),(0,t.jsx)(Z,{label:"Страны",options:es.countries.map(e=>({value:e.id,label:e.name})),selected:ei.countries,onChange:e=>er(a=>({...a,countries:e})),disabled:0===es.countries.length}),(0,t.jsx)(Z,{label:"Города",options:ef,selected:ei.cities,onChange:e=>er(a=>({...a,cities:e})),disabled:0===ef.length}),(0,t.jsx)(Z,{label:"Источники",options:ep.map(e=>({value:e,label:e})),selected:ei.feeds,onChange:e=>er(a=>({...a,feeds:e})),disabled:0===ep.length})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsx)(u.X,{checked:ei.onlyWithSummary,onCheckedChange:e=>er(a=>({...a,onlyWithSummary:!0===e}))}),"Только с саммари"]}),(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>er(T),disabled:!ej,children:"Сбросить фильтры"})]})]}),!E&&p.length>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Показано ",0===p.length?0:ek+1,"-",eS," из ",Q]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"На странице:"}),(0,t.jsx)("div",{className:"flex gap-1",children:[25,50,100,200].map(e=>(0,t.jsx)(n.z,{variant:K===e?"default":"outline",size:"sm",onClick:()=>eA(e),className:"h-8 w-12",children:e},e))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>ez(1),disabled:1===$,className:"h-8 w-8 p-0",title:"Первая страница",children:(0,t.jsx)(b.Z,{className:"h-4 w-4"})}),(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>ez($-1),disabled:1===$,className:"h-8 w-8 p-0",title:"Предыдущая страница",children:(0,t.jsx)(w.Z,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:$}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"из"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:X})]}),(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>ez($+1),disabled:$===X,className:"h-8 w-8 p-0",title:"Следующая страница",children:(0,t.jsx)(C.Z,{className:"h-4 w-4"})}),(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>ez(X),disabled:$===X,className:"h-8 w-8 p-0",title:"Последняя страница",children:(0,t.jsx)(I.Z,{className:"h-4 w-4"})})]})]})]}),E?(0,t.jsx)("div",{className:"space-y-2",children:Array.from({length:10}).map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(h.O,{className:"h-12 w-12"}),(0,t.jsx)(h.O,{className:"h-16 w-16 rounded"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(h.O,{className:"h-4 w-full"}),(0,t.jsx)(h.O,{className:"h-4 w-3/4"})]}),(0,t.jsx)(h.O,{className:"h-8 w-24"}),(0,t.jsx)(h.O,{className:"h-8 w-20"})]},a))}):0===p.length?(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:ej?"Материалы по выбранным фильтрам не найдены.":"Нет материалов. Добавьте RSS фиды и синхронизируйте их на главной."}):(0,t.jsxs)(r.iA,{children:[(0,t.jsx)(r.xD,{children:(0,t.jsxs)(r.SC,{children:[(0,t.jsx)(r.ss,{className:"w-12",children:(0,t.jsx)(u.X,{checked:p.length>0&&p.every(e=>L.has(e.id)),onCheckedChange:()=>{if(L.size===p.length&&p.length>0){let e=new Set(L);p.forEach(a=>e.delete(a.id)),W(e)}else{let e=new Set(L);p.forEach(a=>e.add(a.id)),W(e)}}})}),(0,t.jsx)(r.ss,{className:"w-20",children:"Обложка"}),(0,t.jsx)(r.ss,{className:"min-w-[300px]",children:"Заголовок"}),(0,t.jsx)(r.ss,{className:"w-[220px]",children:"Категории"}),(0,t.jsx)(r.ss,{children:"Источник"}),(0,t.jsx)(r.ss,{className:"w-[130px]",children:"Дата"}),(0,t.jsx)(r.ss,{className:"w-[140px]",children:"Саммари"}),(0,t.jsx)(r.ss,{children:"Статус"})]})}),(0,t.jsx)(r.RM,{children:p.map(e=>(0,t.jsxs)(r.SC,{className:"cursor-pointer hover:bg-accent/50",children:[(0,t.jsx)(r.pj,{onClick:e=>e.stopPropagation(),children:(0,t.jsx)(u.X,{checked:L.has(e.id),onCheckedChange:()=>eE(e.id)})}),(0,t.jsx)(r.pj,{onClick:()=>eI(e),children:e.thumbnail?(0,t.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-16 h-16 object-cover rounded",onError:e=>{e.currentTarget.style.display="none"}}):(0,t.jsx)("div",{className:"w-16 h-16 bg-muted rounded flex items-center justify-center text-xs text-muted-foreground",children:"Нет фото"})}),(0,t.jsx)(r.pj,{className:"font-medium",onClick:()=>eI(e),children:(0,t.jsx)("div",{className:"line-clamp-3 leading-snug",children:e.title})}),(0,t.jsx)(r.pj,{onClick:()=>eI(e),children:e.categories&&e.categories.length>0?(0,t.jsxs)("div",{className:"flex max-w-[220px] flex-wrap gap-1",children:[e.categories.slice(0,3).map(a=>(0,t.jsx)(c.C,{variant:"outline",className:"text-xs font-normal",children:a.name},"".concat(e.id,"-category-").concat(a.id))),e.categories.length>3&&(0,t.jsxs)(c.C,{variant:"secondary",className:"text-xs font-normal",children:["+",e.categories.length-3]})]}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"—"})}),(0,t.jsx)(r.pj,{onClick:()=>eI(e),children:(0,t.jsx)("div",{className:"truncate max-w-[200px]",title:e.feedName||e.source,children:e.feedName||e.source||"—"})}),(0,t.jsx)(r.pj,{onClick:()=>eI(e),children:eP(e.createdAt)}),(0,t.jsx)(r.pj,{onClick:()=>eI(e),children:ee.has(e.id)?(0,t.jsx)(c.C,{variant:"secondary",className:"bg-blue-500/10 text-blue-700 dark:text-blue-400",children:"Генерация..."}):e.summary&&e.summary.trim().length>0?(0,t.jsx)(c.C,{variant:"default",children:"Есть"}):(0,t.jsx)(c.C,{variant:"outline",children:"Нет"})}),(0,t.jsx)(r.pj,{onClick:()=>eI(e),children:eD(e.status)})]},e.id))})]}),!E&&p.length>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Показано ",0===p.length?0:ek+1,"-",eS," из ",Q]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"На странице:"}),(0,t.jsx)("div",{className:"flex gap-1",children:[25,50,100,200].map(e=>(0,t.jsx)(n.z,{variant:K===e?"default":"outline",size:"sm",onClick:()=>eA(e),className:"h-8 w-12",children:e},e))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>ez(1),disabled:1===$,className:"h-8 w-8 p-0",title:"Первая страница",children:(0,t.jsx)(b.Z,{className:"h-4 w-4"})}),(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>ez($-1),disabled:1===$,className:"h-8 w-8 p-0",title:"Предыдущая страница",children:(0,t.jsx)(w.Z,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:$}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"из"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:X})]}),(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>ez($+1),disabled:$===X,className:"h-8 w-8 p-0",title:"Следующая страница",children:(0,t.jsx)(C.Z,{className:"h-4 w-4"})}),(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>ez(X),disabled:$===X,className:"h-8 w-8 p-0",title:"Последняя страница",children:(0,t.jsx)(I.Z,{className:"h-4 w-4"})})]})]})]})]})]}),(0,t.jsx)(o.aR,{open:null!==F,onOpenChange:e=>!e&&Y(null),children:(0,t.jsxs)(o._T,{children:[(0,t.jsxs)(o.fY,{children:[(0,t.jsx)(o.f$,{children:null==eR?void 0:eR.title}),(0,t.jsx)(o.yT,{children:null==eR?void 0:eR.description})]}),(0,t.jsxs)(o.xo,{children:[(0,t.jsx)(o.le,{children:"Отмена"}),(0,t.jsx)(o.OL,{onClick:ew,className:(null==eR?void 0:eR.variant)==="destructive"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"",children:null==eR?void 0:eR.actionText})]})]})}),(0,t.jsx)(d.Vq,{open:P,onOpenChange:R,children:(0,t.jsxs)(d.cZ,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,t.jsxs)(d.fK,{children:[(0,t.jsx)(d.$N,{className:"text-2xl pr-8",children:null==_?void 0:_.title}),(0,t.jsx)(d.Be,{className:"space-y-2",children:(0,t.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Автор:"})," ",(null==_?void 0:_.author)||"—"]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Источник:"})," ",(null==_?void 0:_.feedName)||(null==_?void 0:_.source)||"—"]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Дата:"})," ",_&&eP(_.createdAt)]})]})})]}),(null==_?void 0:_.summary)&&(0,t.jsx)("div",{className:"mt-4 text-sm text-foreground leading-relaxed whitespace-pre-wrap",children:_.summary}),(0,t.jsx)("div",{className:"mt-4",children:(null==_?void 0:_.fullContent)?(0,t.jsx)("div",{className:"prose prose-sm max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:_.fullContent.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/on\w+="[^"]*"/g,"").replace(/on\w+='[^']*'/g,"")}}):(0,t.jsx)("p",{className:"text-muted-foreground",children:null==_?void 0:_.content})}),(0,t.jsx)("div",{className:"mt-6 space-y-6",children:el?(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Загрузка справочников..."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{className:"text-sm font-medium",children:"Категории"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:ex.categoryIds.length>0?ex.categoryIds.map(e=>{let a=es.categories.find(a=>a.id===e);return a?(0,t.jsxs)(c.C,{variant:"secondary",className:"gap-1",children:[a.name,(0,t.jsx)("button",{type:"button",className:"ml-1 inline-flex h-4 w-4 items-center justify-center rounded-sm hover:text-destructive",onClick:()=>eT("categoryIds",e),children:(0,t.jsx)(k.Z,{className:"h-3 w-3"})})]},"selected-category-".concat(e)):null}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Не выбрано"})}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)(Z,{label:"Выбрать категории",options:es.categories.map(e=>({value:e.id,label:e.name})),selected:ex.categoryIds,onChange:e=>eg(a=>({...a,categoryIds:e})),disabled:0===es.categories.length})}),(0,t.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,t.jsx)(x.I,{value:eu.category,onChange:eZ("category"),placeholder:"Новая категория",className:"h-9"}),(0,t.jsx)(n.z,{size:"sm",onClick:()=>eM("category"),disabled:"category"===eo,children:"category"===eo?"Добавление...":"Добавить"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{className:"text-sm font-medium",children:"Темы"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:ex.themeIds.length>0?ex.themeIds.map(e=>{let a=es.themes.find(a=>a.id===e);return a?(0,t.jsxs)(c.C,{variant:"secondary",className:"gap-1",children:[a.name,(0,t.jsx)("button",{type:"button",className:"ml-1 inline-flex h-4 w-4 items-center justify-center rounded-sm hover:text-destructive",onClick:()=>eT("themeIds",e),children:(0,t.jsx)(k.Z,{className:"h-3 w-3"})})]},"selected-theme-".concat(e)):null}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Не выбрано"})}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)(Z,{label:"Выбрать темы",options:es.themes.map(e=>({value:e.id,label:e.name})),selected:ex.themeIds,onChange:e=>eg(a=>({...a,themeIds:e})),disabled:0===es.themes.length})}),(0,t.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,t.jsx)(x.I,{value:eu.theme,onChange:eZ("theme"),placeholder:"Новая тема",className:"h-9"}),(0,t.jsx)(n.z,{size:"sm",onClick:()=>eM("theme"),disabled:"theme"===eo,children:"theme"===eo?"Добавление...":"Добавить"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{className:"text-sm font-medium",children:"Теги"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:ex.tagIds.length>0?ex.tagIds.map(e=>{let a=es.tags.find(a=>a.id===e);return a?(0,t.jsxs)(c.C,{variant:"secondary",className:"gap-1",children:[a.name,(0,t.jsx)("button",{type:"button",className:"ml-1 inline-flex h-4 w-4 items-center justify-center rounded-sm hover:text-destructive",onClick:()=>eT("tagIds",e),children:(0,t.jsx)(k.Z,{className:"h-3 w-3"})})]},"selected-tag-".concat(e)):null}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Не выбрано"})}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)(Z,{label:"Выбрать теги",options:es.tags.map(e=>({value:e.id,label:e.name})),selected:ex.tagIds,onChange:e=>eg(a=>({...a,tagIds:e})),disabled:0===es.tags.length})}),(0,t.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,t.jsx)(x.I,{value:eu.tag,onChange:eZ("tag"),placeholder:"Новый тег",className:"h-9"}),(0,t.jsx)(n.z,{size:"sm",onClick:()=>eM("tag"),disabled:"tag"===eo,children:"tag"===eo?"Добавление...":"Добавить"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{className:"text-sm font-medium",children:"Политические союзы и блоки"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:ex.allianceIds.length>0?ex.allianceIds.map(e=>{let a=es.alliances.find(a=>a.id===e);return a?(0,t.jsxs)(c.C,{variant:"secondary",className:"gap-1",children:[a.name,(0,t.jsx)("button",{type:"button",className:"ml-1 inline-flex h-4 w-4 items-center justify-center rounded-sm hover:text-destructive",onClick:()=>eT("allianceIds",e),children:(0,t.jsx)(k.Z,{className:"h-3 w-3"})})]},"selected-alliance-".concat(e)):null}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Не выбрано"})}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)(Z,{label:"Выбрать союзы и блоки",options:es.alliances.map(e=>({value:e.id,label:e.name})),selected:ex.allianceIds,onChange:e=>eg(a=>({...a,allianceIds:e})),disabled:0===es.alliances.length})}),(0,t.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,t.jsx)(x.I,{value:eu.alliance,onChange:eZ("alliance"),placeholder:"Новый союз или блок",className:"h-9"}),(0,t.jsx)(n.z,{size:"sm",onClick:()=>eM("alliance"),disabled:"alliance"===eo,children:"alliance"===eo?"Добавление...":"Добавить"})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{className:"text-sm font-medium",children:"Страна"}),(0,t.jsxs)("select",{className:"mt-2 w-full rounded-md border bg-background px-3 py-2 text-sm",value:null!==(a=ex.countryId)&&void 0!==a?a:"",onChange:e=>{let a=e.target.value,s=a?Number(a):null;eg(e=>({...e,countryId:s,cityId:null}))},children:[(0,t.jsx)("option",{value:"",children:"Не выбрано"}),es.countries.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,t.jsx)(x.I,{value:eu.country,onChange:eZ("country"),placeholder:"Новая страна",className:"h-9"}),(0,t.jsx)(n.z,{size:"sm",onClick:()=>eM("country"),disabled:"country"===eo,children:"country"===eo?"Добавление...":"Добавить"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{className:"text-sm font-medium",children:"Город"}),(0,t.jsxs)("select",{className:"mt-2 w-full rounded-md border bg-background px-3 py-2 text-sm",value:null!==(s=ex.cityId)&&void 0!==s?s:"",onChange:e=>{let a=e.target.value,s=a?Number(a):null;eg(e=>({...e,cityId:s}))},disabled:!ex.countryId||0===e_.length,children:[(0,t.jsx)("option",{value:"",children:"Не выбрано"}),e_.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,t.jsx)(x.I,{value:eu.city,onChange:eZ("city"),placeholder:"Новый город",className:"h-9",disabled:!ex.countryId}),(0,t.jsx)(n.z,{size:"sm",onClick:()=>eM("city"),disabled:!ex.countryId||"city"===eo,children:"city"===eo?"Добавление...":"Добавить"})]})]})]})]})}),(0,t.jsx)("div",{className:"mt-6 flex justify-end",children:(0,t.jsx)(n.z,{onClick:eO,disabled:ec||el,children:ec?"Сохранение...":"Сохранить"})}),((null==_?void 0:_.link)||(null==_?void 0:_.source))&&(0,t.jsx)("div",{className:"mt-6 pt-4 border-t",children:(0,t.jsx)(n.z,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)("a",{href:_.link||_.source||"#",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[(0,t.jsx)(S.Z,{className:"h-4 w-4"}),"Открыть источник"]})})})]})})]})})]})}},6780:function(e,a,s){"use strict";s.d(a,{OL:function(){return p},_T:function(){return m},aR:function(){return c},f$:function(){return x},fY:function(){return u},le:function(){return f},xo:function(){return h},yT:function(){return g}});var t=s(7437),l=s(2265),n=s(9546),i=s(7440),r=s(495);let c=n.fC;n.xz;let d=n.h_,o=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(n.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l,ref:a})});o.displayName=n.aV.displayName;let m=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsxs)(d,{children:[(0,t.jsx)(o,{}),(0,t.jsx)(n.VY,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l})]})});m.displayName=n.VY.displayName;let u=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...s})};u.displayName="AlertDialogHeader";let h=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};h.displayName="AlertDialogFooter";let x=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(n.Dx,{ref:a,className:(0,i.cn)("text-lg font-semibold",s),...l})});x.displayName=n.Dx.displayName;let g=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(n.dk,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",s),...l})});g.displayName=n.dk.displayName;let p=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(n.aU,{ref:a,className:(0,i.cn)((0,r.d)(),s),...l})});p.displayName=n.aU.displayName;let f=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(n.$j,{ref:a,className:(0,i.cn)((0,r.d)({variant:"outline"}),"mt-2 sm:mt-0",s),...l})});f.displayName=n.$j.displayName},4693:function(e,a,s){"use strict";s.d(a,{C:function(){return r}});var t=s(7437);s(2265);var l=s(3027),n=s(7440);let i=(0,l.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function r(e){let{className:a,variant:s,...l}=e;return(0,t.jsx)("div",{className:(0,n.cn)(i({variant:s}),a),...l})}},2447:function(e,a,s){"use strict";s.d(a,{VY:function(){return T},aV:function(){return A},fC:function(){return z},xz:function(){return E}});var t=s(2265),l=s(8149),n=s(8324),i=s(3398),r=s(1383),c=s(8676),d=s(7513),o=s(1715),m=s(3201),u=s(7437),h="Tabs",[x,g]=(0,n.b)(h,[i.Pc]),p=(0,i.Pc)(),[f,j]=x(h),v=t.forwardRef((e,a)=>{let{__scopeTabs:s,value:t,onValueChange:l,defaultValue:n,orientation:i="horizontal",dir:r,activationMode:x="automatic",...g}=e,p=(0,d.gm)(r),[j,v]=(0,o.T)({prop:t,onChange:l,defaultProp:null!=n?n:"",caller:h});return(0,u.jsx)(f,{scope:s,baseId:(0,m.M)(),value:j,onValueChange:v,orientation:i,dir:p,activationMode:x,children:(0,u.jsx)(c.WV.div,{dir:p,"data-orientation":i,...g,ref:a})})});v.displayName=h;var y="TabsList",N=t.forwardRef((e,a)=>{let{__scopeTabs:s,loop:t=!0,...l}=e,n=j(y,s),r=p(s);return(0,u.jsx)(i.fC,{asChild:!0,...r,orientation:n.orientation,dir:n.dir,loop:t,children:(0,u.jsx)(c.WV.div,{role:"tablist","aria-orientation":n.orientation,...l,ref:a})})});N.displayName=y;var b="TabsTrigger",w=t.forwardRef((e,a)=>{let{__scopeTabs:s,value:t,disabled:n=!1,...r}=e,d=j(b,s),o=p(s),m=k(d.baseId,t),h=S(d.baseId,t),x=t===d.value;return(0,u.jsx)(i.ck,{asChild:!0,...o,focusable:!n,active:x,children:(0,u.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":h,"data-state":x?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:m,...r,ref:a,onMouseDown:(0,l.Mj)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(t)}),onKeyDown:(0,l.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(t)}),onFocus:(0,l.Mj)(e.onFocus,()=>{let e="manual"!==d.activationMode;x||n||!e||d.onValueChange(t)})})})});w.displayName=b;var C="TabsContent",I=t.forwardRef((e,a)=>{let{__scopeTabs:s,value:l,forceMount:n,children:i,...d}=e,o=j(C,s),m=k(o.baseId,l),h=S(o.baseId,l),x=l===o.value,g=t.useRef(x);return t.useEffect(()=>{let e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,u.jsx)(r.z,{present:n||x,children:s=>{let{present:t}=s;return(0,u.jsx)(c.WV.div,{"data-state":x?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":m,hidden:!t,id:h,tabIndex:0,...d,ref:a,style:{...e.style,animationDuration:g.current?"0s":void 0},children:t&&i})}})});function k(e,a){return"".concat(e,"-trigger-").concat(a)}function S(e,a){return"".concat(e,"-content-").concat(a)}I.displayName=C;var z=v,A=N,E=w,T=I},4920:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(7934).Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]])},2790:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(7934).Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])}},function(e){e.O(0,[876,776,138,522,402,902,89,971,23,744],function(){return e(e.s=1377)}),_N_E=e.O()}]);